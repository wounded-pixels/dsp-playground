{"version":3,"sources":["components/stateless-helpers.tsx","content/About.tsx","components/CurveControl.tsx","model/SineCurve.ts","components/TimePlot.tsx","util/samples.ts","content/SimpleAddition.tsx","components/TopNav.tsx","content/Topics.tsx","util/math-hacks.ts","components/FrequencyDomainControl.tsx","content/SumOfManySines.tsx","content/UnitCircleAndCurves/UnitCircleControl.tsx","content/UnitCircleAndCurves/AnnotatedCurveControl.tsx","content/UnitCircleAndCurves/UnitCircleAndCurves.tsx","content/SineOverTime.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["hintStyles","Hint","text","children","style","Tooltip","title","IconButton","aria-label","ContactSupport","fontSize","keyIdeaStyles","background","margin","padding","KeyIdea","rowStyles","alignItems","display","flexDirection","flexGrow","justifyContent","width","Row","className","contextStyles","paddingTop","Context","topicStyles","textAlign","Topic","Title","props","titleStyles","fontWeight","height","Symbol","symbolStyles","visualizationStyles","Visualization","ScenarioLink","index","onClick","Link","RevealLink","ScrollToTopOnMount","window","scrollTo","React","Component","About","CurveControl","this","curveNumber","curveParameters","includePhase","createFloatInput","attribute","min","max","step","FormHelperText","Input","value","type","inputProps","onChange","_evt","parseFloat","target","amplitudeInput","frequencyInput","phaseInput","SineCurve","tStart","tEnd","samplingRate","amplitude","frequency","phase","pairs","time","pair","Math","sin","PI","push","TimePlot","domainX","values","length","rangeY","minY","map","v","maxY","adjustedSvgHeight","xTickValues","calculateDefaultTicks","yTickValues","viewBox","curvePath","calculateSvgX","calculateSvgY","horizontalGridLines","yValue","d","verticalGridLines","xValue","curve","bottomLabel","x","y","xLabels","yLabels","addSamples","sum","samples","col_index","sample_index","jaggedParameters","examples","beatParameters","flatParameters","SimpleAddition","state","onChangeCurveParameter","parameterName","setState","onExample","rawKey","key","cloneDeep","firstSample","sample","secondSample","combined","to","buildLink","labeledPath","path","label","TopNav","home","links","centerText","linkElements","Topics","clamp","snap","digits","multiplier","round","knobAllocation","knobDimensions","calculateKnobX","FrequencyDomainControl","svgRef","createRef","activeDragIndex","calculateKnobY","amplitudeValue","scale","maxAmplitude","minAmplitude","calculateAmplitudeFromY","adjustedY","calculateTooltipX","frequencyIndex","convertToPlotY","eventY","CTM","current","getScreenCTM","f","newY","evt","preventDefault","newAmplitude","startDrag","stopDrag","amplitudes","amplitudeLabels","knobs","onMove","convertedY","clientY","onTouch","touches","onMouseMove","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onTouchMove","activeChangeDescription","ref","justOneFrequencies","oldBeatFrequencies","alternatingBeatFrequencies","clearFrequencies","flatBeatFrequencies","spikyFrequencies","twoFourSixFrequencies","inkFrequencies","SumOfManySines","logMessage","sideLength","UnitCircleControl","activeDrag","newSvgX","newSvgY","newDomainX","calculateDomainX","newDomainY","calculateDomainY","piRatio","atan2","clientX","eventX","e","a","svgY","revealLevel","centerX","centerY","largeArc","xArcRadius","yArcRadius","horizontalLineEnd","cos","verticalLineEnd","angleLabelDomainX","angleLabelRangeY","textAnchor","plotTitle","angleLabel","backgroundCircle","cx","cy","r","horizontalLine","verticalLine","radiusLine","verticalLineRangeY","horizontalDomainX","verticalLineLabel","abs","toFixed","horizontalLineLabel","foregroundArc","knob","triangle","Fragment","domainWidth","adjustedSvgWidth","AnnotatedCurveControl","rangeMaximum","yFunction","horizontalLineBegin","verticalLineStart","verticalStrokeColor","angle","angleLabelVerticalOffset","stroke","verticalLineValue","fill","clampPiRatio","raw","clamped","UnitCircleAndCurves","onChangePiRatio","setReveal","SineOverTime","navProps","App","basename","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c97488ae.chunk.js","sourcesContent":["import React, { FunctionComponent, CSSProperties } from 'react';\n\nimport {IconButton, Link, Tooltip} from '@material-ui/core';\nimport {ContactSupport} from '@material-ui/icons';\n\ntype HintProps = {text: string};\nconst hintStyles: CSSProperties = {};\nexport const Hint: FunctionComponent<HintProps> = ({text, children}) => {\n    return (\n        <div style={hintStyles}>\n            {children}\n            <Tooltip title={text}>\n                <IconButton aria-label=\"hint\">\n                    <ContactSupport fontSize=\"small\"/>\n                </IconButton>\n            </Tooltip>\n        </div>\n    );\n};\n\ntype KeyIdeaProps = {};\nconst keyIdeaStyles: CSSProperties = {\n    background: '#f6ebb0',\n    margin: '10px 0',\n    padding: '5px 0',\n};\nexport const KeyIdea: FunctionComponent<KeyIdeaProps> = ({children}) => {\n    return (\n        <div style={keyIdeaStyles}>\n            {children}\n        </div>\n    );\n};\n\ntype RowProps = {};\nconst rowStyles: CSSProperties = {\n    alignItems: 'center',\n    display: 'flex',\n    flexDirection: 'row',\n    flexGrow: 0,\n    justifyContent: 'start',\n    width: '100%',\n};\nexport const Row: FunctionComponent<RowProps> = ({children}) => {\n    return (\n        <div className=\"Row\" style={rowStyles}>\n            {children}\n        </div>\n    );\n};\n\ntype ContextProps = {};\nconst contextStyles: CSSProperties = {\n    paddingTop: '2px',\n};\nexport const Context: FunctionComponent<ContextProps> = ({children}) => {\n    return (\n    <div style={contextStyles}>\n    {children}\n    </div>\n    );\n};\n\ntype TopicProps = {};\nconst topicStyles: CSSProperties = {\n    display: 'flex',\n    flexDirection: 'column',\n    flexGrow: 2,\n    paddingTop: '10px',\n    textAlign: 'left',\n    width: '85%',\n};\nexport const Topic: FunctionComponent<TopicProps> = ({children}) => {\n    return (\n      <div style={topicStyles}>\n          {children}\n      </div>\n    );\n};\n\ntype TitleProps = {\n    width: string;\n};\n\nexport const Title: FunctionComponent<TitleProps> = (props) => {\n    const titleStyles: CSSProperties = {\n        display: 'flex',\n        fontSize: '18px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n        justifyContent: 'center',\n        width: props.width,\n        height: '18px',\n    };\n\n    return (\n        <div style={titleStyles}>\n            {props.children}\n        </div>\n    );\n};\n\ntype SymbolProps = {\n    width: string;\n};\n\nexport const Symbol: FunctionComponent<SymbolProps> = (props) => {\n    const symbolStyles: CSSProperties = {\n        display: 'flex',\n        fontSize: '32px',\n        fontWeight: 'bold',\n        textAlign: 'center',\n        justifyContent: 'center',\n        width: props.width,\n        height: '32px',\n    };\n\n    return (\n      <div style={symbolStyles}>\n          {props.children}\n      </div>\n    );\n};\n\ntype VisualizationProps = {};\nconst visualizationStyles: CSSProperties = {\n    padding: '10px 10px',\n};\nexport const Visualization: FunctionComponent<VisualizationProps> = ({children}) => {\n    return (\n      <div style={visualizationStyles}>\n          {children}\n      </div>\n    );\n};\n\ntype ScenarioLinkProps = {\n    index: string,\n    onClick: (index: string) => void;\n};\nexport const ScenarioLink: FunctionComponent<ScenarioLinkProps> = ({index, onClick, children}) => {\n    return (\n      <span>\n          &nbsp;\n          <Link onClick={() => {\n              onClick(index)\n          }} > {children} </Link>\n      </span>\n    );\n};\n\ntype RevealLinkProps = {\n    onClick: any;\n};\nexport const RevealLink: FunctionComponent<RevealLinkProps> = ({onClick, children}) => {\n    return (\n        <span>\n          &nbsp;\n            <Link onClick={onClick}> {children} </Link>\n      </span>\n    );\n};\n\nexport class ScrollToTopOnMount extends React.Component {\n  componentDidMount() {\n      window.scrollTo(0,0);\n  }\n\n  render() {\n      return null;\n  }\n}\n\n\n","import React, { FunctionComponent } from 'react';\nimport {Context, Topic} from 'components/stateless-helpers';\n\ntype Props = {};\nconst About: FunctionComponent<Props> = () => {\n    return (\n        <Topic>\n            <h2>About</h2>\n            <Context>\n                I believe that people learn by tinkering, exploring, breaking and re-assembling\n                things. For most of us the math is only valuable to nail down the details after we see\n                where things are headed. So, pretty much every page of this site has dials, sliders or gizmos\n                that drive the visualizations. Tinker away!\n            </Context>\n            <h3>Goals</h3>\n            <Context>\n                Digital Signal Processing (DSP) can be a very daunting topic - lots of math and some pretty arcane terminology.\n                It is also a ridiculously powerful foundation for a lot of very powerful technology.\n                DSP is very much worth your time and effort. I hope this playground helps you build some intellectual momentum\n                as you learn it.\n            </Context>\n            <h3>Who</h3>\n            <Context>\n                I am a software developer who works around DSP and finds it fascinating. I also really enjoy building\n                visualizations. This site is my way of deepening my own understanding and (hopefully) giving a little\n                bit back to the community.\n            </Context>\n        </Topic>\n    );\n};\n\nexport default About;\n","import React, {Component} from 'react';\n\nimport {FormHelperText, Input} from '@material-ui/core';\n\nimport {CurveParameters} from 'model/types';\n\nimport './CurveControl.scss';\n\ntype Props = {\n    curveNumber: number;\n    curveParameters: CurveParameters;\n    includePhase?: boolean | undefined;\n    onChange: (curveNumber: number, parameterName: 'amplitude' | 'frequency' | 'phase', value: number) => void;\n};\n\nclass CurveControl extends Component<Props> {\n    render(): JSX.Element {\n        const { curveNumber, curveParameters, includePhase } = this.props;\n\n        const createFloatInput = (attribute: 'amplitude' | 'frequency' | 'phase', min: number, max: number, step:number) => {\n          return (\n              <div className=\"float-input\">\n                  <FormHelperText>{attribute}</FormHelperText>\n                  <Input\n                      value={curveParameters[attribute]}\n                      type=\"number\"\n                      inputProps={{\n                          'step': step,\n                          'min': min,\n                          'max': max,\n                      }}\n                      onChange={(_evt) => {\n                          this.props.onChange(curveNumber, attribute, parseFloat(_evt.target.value));\n                      }}\n                  />\n              </div>\n          );\n        };\n\n        const amplitudeInput = createFloatInput('amplitude', -4, 4, 0.1);\n        const frequencyInput = createFloatInput('frequency', 0, 20, 0.1);\n        const phaseInput = includePhase ?\n            createFloatInput('phase', -1, 1, 0.1) :\n            null;\n\n        return (\n            <div className=\"CurveControl\">\n                {amplitudeInput}\n                {frequencyInput}\n                {phaseInput}\n            </div>\n        );\n    };\n}\n\nexport default CurveControl\n","import {CurveParameters, Sample, TimeValue} from './types';\n\nclass SineCurve {\n    private readonly curveParameters: CurveParameters;\n\n    constructor(curveParameters: CurveParameters) {\n        this.curveParameters = curveParameters;\n    }\n\n    sample(tStart: number, tEnd: number, samplingRate: number) : Sample {\n        const {amplitude, frequency} = this.curveParameters;\n        const phase = this.curveParameters.phase || 0;\n\n        const step = 1 / samplingRate;\n        const pairs: TimeValue[] = [];\n        for (let time = tStart; time <= tEnd; time += step) {\n            const pair: TimeValue = {time, value: amplitude * Math.sin((time * frequency + phase) * 2 * Math.PI)};\n            pairs.push(pair);\n        }\n\n        return pairs;\n\n    }\n}\n\nexport default SineCurve;","import React, {Component} from 'react';\n\nimport './TimePlot.scss';\nimport {Sample} from 'model/types';\nimport { calculateDefaultTicks } from '@wounded-pixels/eda';\n\ntype Props = {\n    values: Sample;\n    width: number;\n    height: number;\n    minY?: number;\n    maxY?: number;\n};\n\nconst padding = {\n    top: 5,\n    right: 0,\n    bottom: 40,\n    left: 25,\n};\n\nclass TimePlot extends Component<Props> {\n    calculateSvgX(domainX: number): number {\n        const {values, width} = this.props;\n        const tStart = values[0].time;\n        const tEnd = values[values.length - 1].time;\n        const domainWidth = tEnd - tStart;\n        const adjustedSvgWidth = width - padding.left - padding.right;\n        return padding.left + (domainX - tStart) * adjustedSvgWidth / domainWidth;\n    };\n\n    calculateSvgY(rangeY: number): number {\n        const {values, height} = this.props;\n        const minY = this.props.minY || Math.min(...values.map(v => v.value));\n        const maxY = this.props.maxY || Math.max(...values.map(v => v.value));\n        const rangeHeight = maxY - minY;\n        const adjustedSvgHeight = height - padding.top - padding.bottom;\n        const rawSvgY = (rangeY - minY) * adjustedSvgHeight / rangeHeight;\n        return padding.top + adjustedSvgHeight - rawSvgY;\n    };\n\n    render(): JSX.Element {\n        const {values, width, height} = this.props;\n        const tStart = values[0].time;\n        const tEnd = values[values.length - 1].time;\n        const minY = this.props.minY || Math.min(...values.map(v => v.value));\n        const maxY = this.props.maxY || Math.max(...values.map(v => v.value));\n\n        const xTickValues = calculateDefaultTicks(tStart, tEnd);\n        const yTickValues = calculateDefaultTicks(minY, maxY);\n\n        const viewBox = `0 0 ${width} ${height}`;\n\n        let curvePath = `M ${this.calculateSvgX(tStart)} ${this.calculateSvgY(values[0].value)} `;\n        for (let index=1; index < values.length; index++) {\n            curvePath += `L ${this.calculateSvgX(values[index].time)} ${this.calculateSvgY(values[index].value)} `;\n        }\n\n        const horizontalGridLines = yTickValues.map((yValue: number, index: number) => {\n            return (\n                <path\n                    key={index}\n                    className=\"grid-line\"\n                    d={`M ${this.calculateSvgX(tStart)} ${this.calculateSvgY(yValue)} L ${this.calculateSvgX(tEnd)} ${this.calculateSvgY(yValue)}`}\n                />\n            );\n        });\n\n        const verticalGridLines = xTickValues.map((xValue: number, index: number) => {\n          return (\n            <path\n                key={index}\n                className=\"grid-line\"\n                d={`M ${this.calculateSvgX(xValue)} ${this.calculateSvgY(minY)} L ${this.calculateSvgX(xValue)} ${this.calculateSvgY(maxY)}`}\n            />\n          );\n        });\n\n        const curve = (\n          <path\n            className=\"curve\"\n            d={curvePath}\n          />\n        );\n\n        const bottomLabel = (\n            <text\n                className=\"bottom-label\"\n                x={0.52 * width}\n                y={height - 0.2 * padding.bottom}\n            >\n                time\n            </text>\n        );\n\n        const xLabels = xTickValues.map((xValue, index) => {\n            return (\n                <text\n                    key={index}\n                    className=\"x-axis-label\"\n                    x={this.calculateSvgX(xValue)}\n                    y={height - 0.6 * padding.bottom}\n                >\n                    {xValue}\n                </text>\n            )\n        });\n\n        const yLabels = yTickValues.map((yValue, index) => {\n            return index % 2 == 0 ? (\n                <text\n                    key={index}\n                    className=\"y-axis-label\"\n                    x={padding.left * 0.75}\n                    y={this.calculateSvgY(yValue)}\n                    >\n                    {yValue}\n                </text>\n            ) : null;\n        });\n\n        return (\n          <div className=\"TimePlot\" style={{width: `${width}px`, height: `${height}px`}}>\n             <svg\n                 style={{width: `${width}px`, height: `${height}px`}}\n                 viewBox={viewBox}\n             >\n                 {verticalGridLines }\n                 {horizontalGridLines}\n                 {xLabels}\n                 {yLabels}\n                 {bottomLabel}\n                 {curve}\n             </svg>\n          </div>\n        );\n    };\n}\n\nexport default TimePlot;\n","import {Sample, TimeValue} from 'model/types';\n\nexport const addSamples = (...samples: Sample[]) : Sample => {\n    const sum: TimeValue[] = [];\n\n    for (let col_index=0; col_index < samples[0].length; col_index++) {\n        sum.push({time: samples[0][col_index].time, value: 0});\n        for (let sample_index=0; sample_index < samples.length; sample_index++) {\n            sum[col_index].value += samples[sample_index][col_index].value;\n        }\n    }\n\n    return sum;\n};","import {cloneDeep} from 'lodash';\n\nimport React, { Component } from 'react';\n\nimport CurveControl from 'components/CurveControl';\nimport SineCurve from 'model/SineCurve';\nimport TimePlot from 'components/TimePlot';\nimport { addSamples } from 'util/samples';\n\nimport {CurveParameters, Sample} from 'model/types';\nimport {\n    Context,\n    Hint,\n    KeyIdea,\n    Row,\n    ScenarioLink,\n    ScrollToTopOnMount,\n    Symbol,\n    Topic,\n    Visualization\n} from 'components/stateless-helpers';\nimport { Link } from 'react-router-dom';\n\ntype Props = {};\n\ntype State = {\n    curveParameters: CurveParameters[];\n};\n\nconst jaggedParameters: CurveParameters[] = [\n    { amplitude: 3.1, frequency: 2.7},\n    { amplitude: 1.3, frequency: 9.1},\n];\n\nconst flatParameters: CurveParameters[] = [\n    { amplitude: 3, frequency: 1},\n    { amplitude: 0.5, frequency: 3}\n];\n\nconst beatParameters: CurveParameters[] = [\n    { amplitude: 2, frequency: 7},\n    { amplitude: 2, frequency: 8},\n];\n\nconst examples: { [index: string] : CurveParameters[] }  = { jaggedParameters, beatParameters, flatParameters };\n\nclass SimpleAddition extends Component<Props, State> {\n    state = {\n        curveParameters: [\n            {amplitude: 1, frequency: 1},\n            {amplitude: 1, frequency: 2},\n        ] as CurveParameters[]\n    };\n\n    onChangeCurveParameter = (curveNumber: number, parameterName: 'amplitude' | 'frequency' | 'phase', value: number) => {\n        const state = this.state;\n        state.curveParameters[curveNumber][parameterName] = value;\n        this.setState(state);\n    };\n\n    onExample = (rawKey: string) => {\n        const key = rawKey + 'Parameters';\n        if (examples[key]) {\n            this.setState({curveParameters: cloneDeep(examples[key])});\n        } else {\n            this.setState({curveParameters: cloneDeep(jaggedParameters)});\n        }\n    };\n\n    render(): JSX.Element {\n        const samplingRate = 1200;\n        const tEnd = 5;\n\n        const {curveParameters} = this.state;\n        const firstSample: Sample = new SineCurve(curveParameters[0])\n            .sample(0, tEnd, samplingRate);\n\n        const secondSample: Sample = new SineCurve(curveParameters[1])\n            .sample(0, tEnd, samplingRate);\n\n        const combined: Sample = addSamples(firstSample, secondSample);\n\n        const amplitude = 5;\n        const timePlotHeight = 150;\n\n        return (\n            <Topic>\n                <ScrollToTopOnMount />\n                <h2>Addition of Sine Curves</h2>\n                <Context>\n                    Adding sine curves is pretty simple, but it can produce some very strange results:\n                    The inputs below allow you to control the amplitude and frequency of two sine curves.\n                    Their sum is shown at the bottom.\n                    <ul>\n                    <li>\n                        A combination of two smooth curves can be\n                        <ScenarioLink index=\"jagged\" onClick={this.onExample}>\n                          surprisingly jagged\n                        </ScenarioLink>\n                    </li>\n                    <li>\n                        A mixture of curves with similar frequencies produces a\n                        <ScenarioLink index=\"beat\" onClick={this.onExample}>\n                          wave of waves\n                        </ScenarioLink>\n                        or beat\n                    </li>\n                    <li>\n                        It is even easy to get a curve with a\n                        <ScenarioLink index=\"flat\" onClick={this.onExample}>\n                          flattened top and bottom\n                        </ScenarioLink>\n                    </li>\n                    </ul>\n                    What strange patterns can you create?\n                </Context>\n                <Visualization>\n                  <Row>\n                      <CurveControl onChange={this.onChangeCurveParameter} curveNumber={0} curveParameters={this.state.curveParameters[0]}/>\n                      <TimePlot width={500} height={timePlotHeight} minY={-amplitude} maxY={amplitude} values={firstSample}/>\n                  </Row>\n                  <Row>\n                      <Symbol width=\"150px\">+</Symbol>\n                      <Symbol width=\"100%\">&nbsp;</Symbol>\n                  </Row>\n                  <Row>\n                      <CurveControl onChange={this.onChangeCurveParameter} curveNumber={1} curveParameters={this.state.curveParameters[1]}/>\n                      <TimePlot width={500} height={timePlotHeight} minY={-amplitude} maxY={amplitude} values={secondSample}/>\n                  </Row>\n                  <Row>\n                      <Symbol width=\"150px\">=</Symbol>\n                      <TimePlot width={500} height={2 * timePlotHeight} minY={-2*amplitude} maxY={2*amplitude} values={combined} />\n                  </Row>\n                </Visualization>\n                <Context>\n                  <h3>Things to Try</h3>\n                  <Hint text=\"Focus on the difference between the two frequencies\">\n                    Can you see a pattern with beats? Specifically, can you make the\n                    <ScenarioLink index=\"beat\" onClick={this.onExample}> beat </ScenarioLink> slower\n                  </Hint>\n                  <Hint text=\"Focus on the ratio of the frequencies and the ratio of the amplitudes\">\n                    What other combinations cause\n                    <ScenarioLink index=\"flat\" onClick={this.onExample}>\n                      flat tops and bottoms\n                    </ScenarioLink>\n                  </Hint>\n                  <h3>Why Bother?</h3>\n                  <div>\n                      Our world may be more digital every day, but the real world is analog - radio waves travel from here\n                      to Mars or from your phone to your Bluetooth headphones. Sound waves travel from your speakers to your ears.\n                  </div>\n                  <KeyIdea>\n                      When data travels through air, wires, fiber optic cables or the vacuum of space\n                      it is usually encoded with fancy combinations of sine waves!\n                  </KeyIdea>\n                  <div>\n                      Many academic and professional pursuits build on these concepts:\n                      <ul>\n                          <li>Acoustics</li>\n                          <li>Electronic music</li>\n                          <li>Electrical Engineering</li>\n                          <li>Radios and Software Defined Radios</li>\n                          <li>Radar systems</li>\n                      </ul>\n                  </div>\n                </Context>\n                <Context>\n                    <h3>Next Steps</h3>\n                    <div>\n                        If adding two sine curves produce interesting results then we clearly have to try\n                        more. Many many more. So, we need a way to quickly control the amplitudes of\n                        <Link to=\"/sum-many-sines\"> many sines</Link>.\n                    </div>\n                </Context>\n            </Topic>\n        );\n    };\n}\nexport default SimpleAddition;\n","import React, { FunctionComponent } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './TopNav.scss';\nimport {LabeledPath} from 'model/types';\n\nconst buildLink = (labeledPath: LabeledPath) => {\n    return (<Link key={labeledPath.path} to={labeledPath.path}>{labeledPath.label}</Link>);\n};\n\ntype Props = {\n    home: LabeledPath,\n    links: LabeledPath[],\n    centerText: string,\n};\n\nconst TopNav: FunctionComponent<Props> = ({home, links, centerText}) => {\n    const linkElements = links.map(buildLink);\n    return (\n        <div className=\"TopNav\">\n            <div className=\"left-nav-link\">\n                { buildLink(home)}\n            </div>\n            <div className=\"center-text\">\n                {centerText}\n            </div>\n            <div className=\"right-nav-link\">\n                {linkElements}\n            </div>\n        </div>\n    );\n};\n\nexport default TopNav;","import React, { FunctionComponent } from 'react';\nimport {Context, Topic} from 'components/stateless-helpers';\nimport { Link } from 'react-router-dom';\n\ntype Props = {};\nconst Topics: FunctionComponent<Props> = () => {\n    return (\n        <Topic>\n            <h2>Topics</h2>\n            <h3><Link to=\"/unit-circle\">Sine, Cosine and the Unit Circle</Link></h3>\n            <Context>\n                DSP depends on sine waves and you need to understand the unit circle in order to understand sine waves.\n                This visualization shows how the height and width of the triangle in the unit circle map to the sine and cosine curves.\n            </Context>\n            <h3><Link to=\"/sine-over-time\">Sine over Time</Link></h3>\n            <Context>\n                In trigonometry sine is all about angles of triangles. In DSP it is all about\n                sound or signal intensity over time.\n            </Context>\n            <h3><Link to=\"/add-sines\">Addition of Sine Curves</Link></h3>\n            <Context>\n                Simple combinations of the humble sine curve yield many strange and useful curves.\n                Let's start by specifying the amplitude and frequency of two curves and adding them together.\n            </Context>\n            <h3><Link to=\"/sum-many-sines\">Sum of Many Sines</Link></h3>\n            <Context>\n                We can get interesting shapes by adding two sines together. What mischief can we create with twenty?\n            </Context>\n            <h3>Coming Soon</h3>\n            <ul>\n                <li>Encoding information with Amplitude Modulation</li>\n                <li>Encoding information with Frequency Modulation</li>\n                <li>Introduction to Convolution</li>\n                <li>Convolution - DSP's Swiss army chainsaw</li>\n                <li>Discrete Fast Fourier Transforms</li>\n                <li>Sampling</li>\n            </ul>\n        </Topic>\n    );\n};\n\nexport default Topics;\n","export function clamp(value: number, min: number, max: number) {\n    if (value > max) {\n        return max;\n    }\n\n    if (value < min) {\n        return min;\n    }\n\n    return value;\n}\n\nexport function snap(value: number, digits: number) {\n    const multiplier = 10 ** digits;\n    return Math.round(value*multiplier) / multiplier;\n}\n","import React, {Component} from 'react';\n\nimport './FrequencyDomainControl.scss';\nimport {clamp, snap} from '../util/math-hacks';\n\ntype Props = {\n    amplitudes: number[];\n    maxAmplitude: number;\n    onChange: (frequencyIndex: number, value: number) => void;\n};\n\ntype State = {\n    activeDragIndex: number;\n};\n\nconst width = 800;\nconst height = 300;\n\nconst padding = {\n    top: 15,\n    right: 0,\n    bottom: 50,\n    left: 30,\n};\n\nconst knobAllocation = (width - padding.left - padding.right) / 20;\nconst knobDimensions = {\n    width: knobAllocation * 0.6,\n    height: 10,\n    margin: knobAllocation * 0.2,\n};\n\nconst calculateKnobX = (index: number) => {\n    return padding.left + index * (knobDimensions.width + 2 * knobDimensions.margin);\n};\n\n\nclass FrequencyDomainControl extends Component<Props, State> {\n    private svgRef: any = React.createRef();\n\n    state = {\n        activeDragIndex: -1,\n    };\n\n    calculateKnobY = (amplitudeValue: number) => {\n        const scale = (height - padding.top - padding.bottom) / (2 * this.props.maxAmplitude);\n        const minAmplitude = -this.props.maxAmplitude;\n        const rawY = (amplitudeValue - minAmplitude) * scale;\n        return height - padding.bottom - rawY;\n    };\n\n    calculateAmplitudeFromY = (yValue: number) => {\n        const scale =  (2 * this.props.maxAmplitude) / (height - padding.top - padding.bottom);\n        const adjustedY = yValue - padding.top;\n        return this.props.maxAmplitude - adjustedY * scale;\n    }\n\n    calculateTooltipX = (frequencyIndex: number) => {\n      const baseX = calculateKnobX(frequencyIndex);\n      const offset = frequencyIndex < 10 ? knobDimensions.width + 32 : -70;\n      return baseX + offset;\n    };\n\n    convertToPlotY = (eventY: number) => {\n        const CTM = this.svgRef.current.getScreenCTM();\n        return (eventY - CTM.f) / CTM.d;\n    };\n\n    onChange = (index: number, newY: number, evt: any) => {\n        if (this.state.activeDragIndex === index) {\n            evt.preventDefault();\n            const {maxAmplitude} = this.props;\n            const newAmplitude = snap(this.calculateAmplitudeFromY(newY), 1);\n            this.props.onChange(index, clamp(newAmplitude, -maxAmplitude, maxAmplitude));\n        }\n    };\n\n    startDrag = (index: number, evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDragIndex: index});\n    };\n\n    stopDrag = (evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDragIndex: -1});\n    }\n\n    render(): JSX.Element {\n        const {amplitudes, maxAmplitude} = this.props;\n\n        const bottomLabel = (\n          <text\n            className=\"bottom-label\"\n            x={0.4 * width}\n            y={height - 0.35 * padding.bottom}\n            >\n              frequencies from 1 to 20 Hz\n          </text>\n        );\n\n        const amplitudeLabels = [-maxAmplitude, 0, maxAmplitude].map((value: number, index: number) => {\n           return (\n             <text\n                 key={index}\n                 className=\"amplitude-label\"\n                 x={8}\n                 y={this.calculateKnobY(value) + 8}\n             >\n                 {value}\n             </text>\n           );\n        });\n\n        const knobs = amplitudes.map((amplitude: number, index: number) => {\n            const onMove = (evt: React.MouseEvent) => {\n                const convertedY = this.convertToPlotY(evt.clientY);\n                this.onChange(index, convertedY, evt);\n            };\n\n            const onTouch = (evt: React.TouchEvent) => {\n                const convertedY = this.convertToPlotY(evt.touches[0].clientY);\n                this.onChange(index, convertedY, evt);\n            };\n\n            return (\n                <g key={index}>\n                    <rect\n                        className=\"channel-background\"\n                        x={calculateKnobX(index)}\n                        y={this.calculateKnobY(maxAmplitude)}\n                        width={knobDimensions.width}\n                        height={this.calculateKnobY(-maxAmplitude) - this.calculateKnobY(maxAmplitude)}\n                        onMouseMove={onMove}\n                        onMouseDown={(evt) => this.startDrag(index, evt)}\n                        onMouseUp = {(evt) => this.stopDrag(evt)}\n                        onTouchStart = {(evt) => this.startDrag(index, evt)}\n                        onTouchEnd = {(evt) => this.stopDrag(evt)}\n                        onTouchMove={onTouch}\n                    />\n                    <rect\n                        className=\"channel\"\n                        x={calculateKnobX(index) + knobDimensions.width*0.4}\n                        y={this.calculateKnobY(maxAmplitude)}\n                        width={0.2 * knobDimensions.width}\n                        height={this.calculateKnobY(-maxAmplitude) - this.calculateKnobY(maxAmplitude)}\n                        onMouseMove={onMove}\n                        onMouseDown={(evt) => this.startDrag(index, evt)}\n                        onMouseUp = {(evt) => this.stopDrag(evt)}\n                        onTouchStart = {(evt) => this.startDrag(index, evt)}\n                        onTouchEnd = {(evt) => this.stopDrag(evt)}\n                        onTouchMove={onTouch}\n                    />\n                    <rect\n                        className=\"knob\"\n                        x={calculateKnobX(index)}\n                        y={this.calculateKnobY(amplitude) - knobDimensions.height /2 }\n                        width={knobDimensions.width}\n                        height={knobDimensions.height}\n                        onMouseMove={onMove}\n                        onMouseDown={(evt) => this.startDrag(index, evt)}\n                        onMouseUp = {(evt) => this.stopDrag(evt)}\n                        onTouchStart = {(evt) => this.startDrag(index, evt)}\n                        onTouchEnd = {(evt) => this.stopDrag(evt)}\n                        onTouchMove={onTouch}\n                    />\n                </g>\n            );\n        });\n\n        const viewBox = `0 0 ${width} ${height}`;\n        const {activeDragIndex} = this.state;\n\n        const activeChangeDescription = activeDragIndex >= 0 ? (\n            <g>\n                <rect\n                    className=\"active-change-description\"\n                    x={this.calculateTooltipX(activeDragIndex)}\n                    y={this.calculateKnobY(this.props.amplitudes[activeDragIndex])}\n                    width={60}\n                    height={50}\n                    />\n                <text\n                    x={this.calculateTooltipX(activeDragIndex) + 10}\n                    y={this.calculateKnobY(this.props.amplitudes[activeDragIndex]) + 20}\n                    className=\"active-change-description\">\n                    {activeDragIndex + 1} Hz\n                </text>\n                <text\n                    x={this.calculateTooltipX(activeDragIndex) + 10}\n                    y={this.calculateKnobY(this.props.amplitudes[activeDragIndex]) + 40}\n                    className=\"active-change-description\">\n                    {this.props.amplitudes[activeDragIndex]}\n                </text>\n            </g>\n        ) : null;\n\n        return (\n            <div className=\"FrequencyDomainControl\">\n                <svg\n                    ref={this.svgRef}\n                    viewBox={viewBox}>\n                    {bottomLabel}\n                    {amplitudeLabels}\n                    {knobs}\n                    {activeChangeDescription}\n                </svg>\n            </div>\n        );\n    };\n}\n\nexport default FrequencyDomainControl;\n","import {cloneDeep} from 'lodash';\n\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport SineCurve from 'model/SineCurve';\nimport TimePlot from 'components/TimePlot';\nimport { addSamples } from 'util/samples';\n\nimport {Sample, TimeValue} from 'model/types';\nimport {\n    Context,\n    Hint,\n    KeyIdea,\n    ScenarioLink,\n    ScrollToTopOnMount,\n    Topic,\n    Visualization\n} from 'components/stateless-helpers';\n\nimport FrequencyDomainControl from '../components/FrequencyDomainControl';\n\ntype Props = {};\n\ntype State = {\n    amplitudes: number[];\n};\n\nconst clearFrequencies = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0];\nconst justOneFrequencies = [0, 0, 4, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0];\nconst spikyFrequencies =  [0, 0, 1, 0, 0, 1, 0, 0, 1.5, 0, 0, 2, 0, 0, 1, 0, 0, 3, 0, 0];\nconst oldBeatFrequencies = [0, 0, 0, 0, 0, 0, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0];\nconst flatBeatFrequencies = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, -4, 0 ,0, 0, 0];\nconst alternatingBeatFrequencies = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3, 0, 2, -1, 0 ,0, 0];\nconst twoFourSixFrequencies = [0, 1, 0, 1, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0];\nconst inkFrequencies = [1.3, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.2 ,-0.4, 0.2];\n\nconst examples: { [index: string] : number[]} = {\n    alternatingBeatFrequencies,\n    clearFrequencies,\n    flatBeatFrequencies,\n    justOneFrequencies,\n    spikyFrequencies,\n    twoFourSixFrequencies,\n    inkFrequencies,\n    oldBeatFrequencies\n};\n\nclass SumOfManySines extends Component<Props, State> {\n    state = {\n        amplitudes: cloneDeep(justOneFrequencies),\n        logMessage: '',\n    };\n\n    onExample = (rawKey: string) => {\n        const key = rawKey + 'Frequencies';\n        if (examples[key]) {\n            this.setState({amplitudes: cloneDeep(examples[key])});\n        } else {\n            this.setState({amplitudes: cloneDeep(oldBeatFrequencies)});\n        }\n    }\n\n    onChange = (frequencyIndex: number, value: number) => {\n      const amplitudes = [...this.state.amplitudes];\n      amplitudes[frequencyIndex] = value;\n      this.setState({amplitudes});\n    };\n\n    render(): JSX.Element {\n        const plotAmplitude = 10;\n        const controlAmplitude = 4;\n        const samplingRate = 2000;\n        const tEnd = 5;\n\n        const curves: SineCurve[] = this.state.amplitudes.map((amplitude, index) => {\n           return new SineCurve({amplitude, frequency: index + 1});\n        });\n\n        const samples: TimeValue[][] = curves.map((curve: SineCurve) => curve.sample(0, tEnd, samplingRate));\n        const combined: Sample = addSamples(...samples)\n        return (\n            <Topic>\n                <ScrollToTopOnMount />\n                <h2>Sum of Many Sines</h2>\n                <Context>\n                    Each slider allows you to change the amplitude of a sine at that frequency.\n                    <ul>\n                        <li>\n                            The simplest example\n                            <ScenarioLink index=\"justOne\" onClick={this.onExample}>\n                                is a single non-zero amplitude\n                            </ScenarioLink>\n                        </li>\n                        <li>\n                            A mixture of frequencies at regular intervals produces a\n                            <ScenarioLink index=\"spiky\" onClick={this.onExample}>\n                                very spiky curve\n                            </ScenarioLink>\n                        </li>\n                        <li>\n                            A mixture of curves with similar frequencies produces a\n                            <ScenarioLink index=\"beat\" onClick={this.onExample}>\n                                wave of waves\n                            </ScenarioLink>\n                            or beat. You may recall this combination from the previous page\n                        </li>\n                        <li>\n                            If you use three curves and are willing to go negative for one you can get a\n                            beat with a\n                            <ScenarioLink index=\"flatBeat\" onClick={this.onExample}>\n                                flattened top and bottom\n                            </ScenarioLink>\n                        </li>\n                        <li>\n                            With a gap between the primary frequencies you can get alternating\n                            <ScenarioLink index=\"alternatingBeat\" onClick={this.onExample}>\n                                long and short beats\n                            </ScenarioLink>\n                        </li>\n                        <li>\n                            A low frequency mixed with a few high frequencies can create a line and\n                            <ScenarioLink index=\"ink\" onClick={this.onExample}>\n                                brush stroke effect\n                            </ScenarioLink>\n                        </li>\n                        <li>\n                            You may want to\n                            <ScenarioLink index=\"clear\" onClick={this.onExample}>\n                            clear all frequencies\n                            </ScenarioLink>\n                        </li>\n                    </ul>\n                </Context>\n                <Visualization>\n                    <div>\n                        <TimePlot values={combined} width={800} height={400} minY={-plotAmplitude} maxY={plotAmplitude}/>\n                    </div>\n                    <div>\n                        <FrequencyDomainControl\n                          amplitudes={this.state.amplitudes}\n                          maxAmplitude={controlAmplitude}\n                          onChange={this.onChange}\n                        />\n                    </div>\n                </Visualization>\n                <Context>\n                    <h3>Things to Try</h3>\n                    A harmonic series is made up of sine curves whose frequencies are integer multiples of a fundamental frequency.\n                    Such as\n                        <ScenarioLink index=\"twoFourSix\" onClick={this.onExample}>two, four and six</ScenarioLink> in\n                        which the first frequency, two Hz, is the fundamental frequency.\n                        <Hint text=\"Focus on the fundamental frequency\">\n                        Can you make a harmonic series that repeats 4 times a second? Or 5?\n                    </Hint>\n                    <h3>Why Bother?</h3>\n                    <div>\n                        As we discussed in the previous page on the <Link to=\"/add-sines\">addition of sine curves</Link>,\n                        creating complicated curves from simple sines allows us to communicate in the real world.\n                    </div>\n                    <KeyIdea>\n                        Any periodic function can be represented by the sum of sine curves, provided you use enough of them.\n                        Fourier analysis is the branch of mathematics that is dedicated to the tricky bit of calculating\n                        the right amplitudes\n                    </KeyIdea>\n                </Context>\n            </Topic>\n        );\n    };\n}\n\nexport default SumOfManySines;\n","import React, {Component} from 'react';\n\nimport './UnitCircleControl.scss';\nimport {snap} from 'util/math-hacks';\n\ntype Props = {\n    onChange: (piRatio: number) => void;\n    piRatio: number;\n    revealLevel: number;\n};\n\ntype State = {\n  activeDrag: boolean;\n};\n\nconst sideLength = 150;\nconst padding = 25;\n\nconst domainMinimum = -1;\nconst rangeMinimum = -1;\nconst domainHeight = 2;\nconst domainWidth = 2;\nconst adjustedSvgHeight = sideLength - 2 * padding;\nconst adjustedSvgWidth = sideLength - 2 * padding;\n\nclass UnitCircleControl extends Component<Props, State> {\n    private svgRef: any = React.createRef();\n\n    state = {\n        activeDrag: false,\n    };\n\n    calculateSvgX(domainX: number): number {\n        return padding + (domainX - domainMinimum) * adjustedSvgWidth / domainWidth;\n    };\n\n    calculateDomainX(eventX: number): number {\n        const CTM = this.svgRef.current.getScreenCTM();\n        const svgX = (eventX - CTM.e) / CTM.a;\n        const adjustedSvgX = svgX - padding;\n        return domainMinimum + adjustedSvgX * domainWidth / adjustedSvgWidth;\n    };\n\n    calculateSvgY(rangeY: number): number {\n        const rawSvgY = (rangeY - rangeMinimum) * adjustedSvgHeight / domainHeight;\n        return padding + adjustedSvgHeight - rawSvgY;\n    };\n\n    calculateDomainY(eventY: number): number {\n        const CTM = this.svgRef.current.getScreenCTM();\n        const svgY = (eventY - CTM.f) / CTM.d;\n        const svgUp = adjustedSvgHeight - svgY;\n        return rangeMinimum + svgUp * domainHeight / adjustedSvgHeight;\n    };\n\n    onChange = (newSvgX: number, newSvgY: number, evt: any) => {\n        if (this.state.activeDrag) {\n            evt.preventDefault();\n\n            const newDomainX = this.calculateDomainX(newSvgX);\n            const newDomainY = this.calculateDomainY(newSvgY);\n\n            const newAngle = Math.atan2(newDomainY, newDomainX);\n            const piRatio = snap(newAngle / Math.PI, 2);\n            this.props.onChange(piRatio);\n        }\n    };\n\n    onMove = (evt: React.MouseEvent) => {\n        this.onChange(evt.clientX, evt.clientY, evt);\n    };\n\n    onTouch = (evt: React.TouchEvent) => {\n        this.onChange(evt.touches[0].clientX, evt.touches[0].clientY, evt);\n    };\n\n    startDrag = (evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDrag: true});\n    };\n\n    stopDrag = (evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDrag: false});\n    }\n\n    render(): JSX.Element {\n        const { piRatio, revealLevel } = this.props;\n\n        const viewBox = `0 0 ${sideLength} ${sideLength}`;\n\n        const svgRadius = (sideLength - 2 * padding) / 2;\n\n        const centerX = this.calculateSvgX(0);\n        const centerY = this.calculateSvgY(0);\n\n        const largeArc = piRatio <= 1 ? 0 : 1;\n        const positiveSweep = 0;\n        const xArcRadius = this.calculateSvgX(1) - this.calculateSvgX(0);\n        const yArcRadius = this.calculateSvgY(1) - this.calculateSvgY(0);\n\n        const horizontalLineEnd = this.calculateSvgX(Math.cos(piRatio * Math.PI));\n        const verticalLineEnd = this.calculateSvgY(Math.sin(piRatio * Math.PI));\n\n        const offsetRadius = 1.08;\n        const angleLabelDomainX = offsetRadius * Math.cos(piRatio * Math.PI / 2);\n        const angleLabelRangeY  = offsetRadius * Math.sin(piRatio * Math.PI / 2);\n        const textAnchor = angleLabelDomainX > 0 ? 'start' : 'end';\n\n        const plotTitle = (\n            <text\n                className=\"plot-title\"\n                x={this.calculateSvgX(0)}\n                y=\"11\"\n            >\n                Unit Circle\n            </text>\n        );\n\n        const angleLabel = (\n            <text\n                className=\"angle-label\"\n                x={this.calculateSvgX(angleLabelDomainX)}\n                y={this.calculateSvgY(angleLabelRangeY)}\n                textAnchor={textAnchor}\n            >\n                {piRatio}&#960;\n            </text>\n        );\n\n        const backgroundCircle = (\n            <circle\n                className=\"background-circle\"\n                cx={centerX}\n                cy={centerY}\n                r={svgRadius}\n            />\n        );\n\n        const horizontalLine = (\n            <path\n              className=\"horizontal-line\"\n              d={`M ${centerX} ${centerY} L ${horizontalLineEnd} ${centerY}`}\n          />\n        );\n\n        const verticalLine = (\n            <path\n                className=\"vertical-line\"\n                d={`M ${horizontalLineEnd} ${centerY} L ${horizontalLineEnd} ${verticalLineEnd}`}\n            />\n        );\n\n        const radiusLine = (\n            <path\n                className=\"radius-line\"\n                d={`M ${centerX} ${centerY} L ${horizontalLineEnd} ${verticalLineEnd}`}\n            />\n        );\n\n        const verticalLineRangeY = Math.sin(piRatio * Math.PI);\n        const horizontalDomainX = Math.cos(piRatio * Math.PI);\n        const verticalLineLabel =\n            Math.abs(verticalLineRangeY) > 0.1 ? (\n                <text\n                    className=\"vertical-line-label\"\n                    textAnchor={horizontalDomainX > 0 ? 'end' : 'start'}\n                    x={horizontalLineEnd + (horizontalDomainX > 0 ? -5 : 5) }\n                    y={(centerY + verticalLineEnd) /2}\n                >\n                    {verticalLineRangeY.toFixed(2)}\n                </text>\n            ) : null;\n\n        const horizontalLineLabel =\n            Math.abs(horizontalDomainX) > 0.1 ? (\n                <text\n                    className=\"horizontal-line-label\"\n                    x={(horizontalLineEnd + centerX) / 2 }\n                    y={centerY + (verticalLineRangeY > 0 ? 8 : -6) }\n                >\n                    {horizontalDomainX.toFixed(2)}\n                </text>\n            ) : null;\n\n        const foregroundArc = (\n            <path\n                className=\"arc\"\n                d={`M ${this.calculateSvgX(1)} ${this.calculateSvgY(0)} A ${xArcRadius},${yArcRadius} 0 ${largeArc} ${positiveSweep} ${horizontalLineEnd} ${verticalLineEnd}`}\n                />\n        );\n\n        const activeChangeDescription = null;\n\n        const knob = (\n            <circle\n                className=\"knob\"\n                cx={horizontalLineEnd}\n                cy={verticalLineEnd}\n                r={2}\n                onMouseMove={this.onMove}\n                onMouseDown={this.startDrag}\n                onMouseUp = {this.stopDrag}\n                onTouchStart = {this.startDrag}\n                onTouchEnd = {this.stopDrag}\n                onTouchMove={this.onTouch}\n            />\n        );\n\n        const triangle = revealLevel >= 1 ?\n            (\n                <React.Fragment>\n                {horizontalLine}\n                {verticalLine}\n                {verticalLineLabel}\n                {horizontalLineLabel}\n                </React.Fragment>\n            ) : null;\n\n        return (\n            <div className=\"UnitCircleControl\">\n                <svg\n                    ref={this.svgRef}\n                    viewBox={viewBox}\n                    onMouseMove={this.onMove}\n                    onMouseDown={this.startDrag}\n                    onMouseUp = {this.stopDrag}\n                    onTouchStart = {this.startDrag}\n                    onTouchEnd = {this.stopDrag}\n                    onTouchMove={this.onTouch}\n                >\n                    {plotTitle}\n                    {backgroundCircle}\n                    {radiusLine}\n                    {triangle}\n                    {foregroundArc}\n                    {angleLabel}\n                    {knob}\n                    {activeChangeDescription}\n                </svg>\n            </div>\n        );\n    };\n}\n\nexport default UnitCircleControl","import React, {Component} from 'react';\n\nimport './AnnotatedCurveControl.scss';\nimport {clamp, snap} from 'util/math-hacks';\n\ntype Props = {\n    yFunction: (angleValue: number) => number;\n    onChange: (piRatio: number) => void;\n    piRatio: number;\n};\n\ntype State = {\n    activeDrag: boolean;\n};\n\nconst svgHeight = 300;\nconst svgWidth = 750;\nconst padding = {\n    top: 40,\n    right: 0,\n    bottom: 40,\n    left: 20,\n};\n\nconst domainMinimum = 0;\nconst domainMaximum = 2 * Math.PI;\nconst domainWidth = domainMaximum - domainMinimum;\nconst rangeMinimum = -1;\nconst rangeMaximum = 1;\nconst rangeHeight = rangeMaximum - rangeMinimum;\nconst adjustedSvgHeight = svgHeight - padding.top - padding.bottom;\nconst adjustedSvgWidth = svgWidth - padding.left - padding.right;\n\nclass AnnotatedCurveControl extends Component<Props, State> {\n    private svgRef: any = React.createRef();\n\n    state = {\n        activeDrag: false,\n    };\n\n    calculateSvgX(domainX: number): number {\n        return padding.left + (domainX - domainMinimum) * adjustedSvgWidth / domainWidth;\n    };\n\n    calculateDomainX(eventX: number): number {\n        const CTM = this.svgRef.current.getScreenCTM();\n        const svgX = (eventX - CTM.e) / CTM.a;\n        const adjustedSvgX = svgX - padding.left;\n        return domainMinimum + adjustedSvgX * domainWidth / adjustedSvgWidth;\n    };\n\n    calculateSvgY(rangeY: number): number {\n        const rawSvgY = (rangeY - rangeMinimum) * adjustedSvgHeight / rangeHeight;\n        return padding.top + adjustedSvgHeight - rawSvgY;\n    };\n\n    calculateRangeY(eventY: number): number {\n        const CTM = this.svgRef.current.getScreenCTM();\n        const svgY = (eventY - CTM.f) / CTM.d;\n        const svgUp = adjustedSvgHeight - svgY;\n        return rangeMinimum + svgUp * rangeHeight / adjustedSvgHeight;\n    };\n\n    onChange = (newSvgX: number, newSvgY: number, evt: any) => {\n        if (this.state.activeDrag) {\n            evt.preventDefault();\n\n            const newAngle = clamp(this.calculateDomainX(newSvgX), 0, 2 * Math.PI);\n            const piRatio = snap(newAngle / Math.PI, 2);\n            this.props.onChange(piRatio);\n        }\n    };\n\n    onMove = (evt: React.MouseEvent) => {\n        this.onChange(evt.clientX, evt.clientY, evt);\n    };\n\n    onTouch = (evt: React.TouchEvent) => {\n        this.onChange(evt.touches[0].clientX, evt.touches[0].clientY, evt);\n    };\n\n    startDrag = (evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDrag: true});\n    };\n\n    stopDrag = (evt: any) => {\n        evt.preventDefault();\n        this.setState({activeDrag: false});\n    }\n\n    render(): JSX.Element {\n        const { yFunction, piRatio } = this.props;\n        const title = yFunction === Math.sin ? 'Sine' : 'Cosine';\n\n        const viewBox = `0 0 ${svgWidth} ${svgHeight}`;\n\n        const horizontalLineBegin = this.calculateSvgX(0);\n        const horizontalLineEnd = this.calculateSvgX(piRatio * Math.PI);\n        const verticalLineStart = this.calculateSvgY(0);\n        const verticalLineEnd = this.calculateSvgY(yFunction(piRatio * Math.PI));\n\n        const verticalStrokeColor = yFunction === Math.sin ? 'orange' : 'blue';\n\n        const step = 0.1;\n        let curvePath = `M ${this.calculateSvgX(0)} ${this.calculateSvgY(yFunction(0))} `;\n        for (let angle = step; angle <= 2 * Math.PI + step; angle += step) {\n           curvePath += `L ${this.calculateSvgX(angle)} ${this.calculateSvgY(yFunction(angle))} `;\n        }\n\n        const curve = (\n          <path\n          className=\"curve\"\n          d={curvePath}\n          />\n        );\n\n        const plotTitle = (\n            <text\n                className=\"plot-title\"\n                x={this.calculateSvgX(Math.PI)}\n                y=\"13\"\n            >\n                {title}\n            </text>\n        );\n\n        const angleLabelDomainX = clamp(piRatio * Math.PI / 2, 0.1, Math.PI);\n        const angleLabelVerticalOffset = yFunction(angleLabelDomainX) < 0 ? -15 : 25;\n        const angleLabel = (\n            <text\n                className=\"angle-label\"\n                x={this.calculateSvgX(angleLabelDomainX)}\n                y={this.calculateSvgY(0) + angleLabelVerticalOffset}\n                >\n                {piRatio}&#960;\n            </text>\n        );\n\n        const horizontalLine = (\n            <path\n                className=\"horizontal-line\"\n                d={`M ${horizontalLineBegin} ${verticalLineStart} L ${horizontalLineEnd} ${verticalLineStart}`}\n            />\n        );\n\n        const verticalLine = (\n            <path\n                className=\"vertical-line\"\n                stroke={verticalStrokeColor}\n                d={`M ${horizontalLineEnd} ${verticalLineStart} L ${horizontalLineEnd} ${verticalLineEnd}`}\n            />\n        );\n\n        const verticalLineValue = yFunction(piRatio * Math.PI);\n        const verticalLineLabel =\n            Math.abs(verticalLineValue) > 0.1 ? (\n                <text\n                className=\"vertical-line-label\"\n                fill={verticalStrokeColor}\n                textAnchor={piRatio < 1.7 ? 'start' : 'end'}\n                x={horizontalLineEnd + (piRatio < 1.7 ? 8 : -8) }\n                y={(verticalLineStart + verticalLineEnd) /2}\n            >\n                {verticalLineValue.toFixed(2)}\n            </text>\n            ) : null;\n        const activeChangeDescription = null;\n\n        const knob = (\n            <circle\n                className=\"knob\"\n                cx={horizontalLineEnd}\n                cy={verticalLineEnd}\n                r={4}\n                onMouseMove={this.onMove}\n                onMouseDown={this.startDrag}\n                onMouseUp = {this.stopDrag}\n                onTouchStart = {this.startDrag}\n                onTouchEnd = {this.stopDrag}\n                onTouchMove={this.onTouch}\n            />\n        );\n\n        return (\n            <div className=\"AnnotatedCurveControl\">\n                <svg\n                    ref={this.svgRef}\n                    viewBox={viewBox}\n                    onMouseMove={this.onMove}\n                    onMouseDown={this.startDrag}\n                    onMouseUp = {this.stopDrag}\n                    onTouchStart = {this.startDrag}\n                    onTouchEnd = {this.stopDrag}\n                    onTouchMove={this.onTouch}\n                >\n                    {plotTitle}\n                    {horizontalLine}\n                    {verticalLine}\n                    {curve}\n                    {angleLabel}\n                    {verticalLineLabel}\n                    {knob}\n                    {activeChangeDescription}\n                </svg>\n            </div>\n        );\n    };\n}\n\nexport default AnnotatedCurveControl;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {Context, RevealLink, Row, ScrollToTopOnMount, Topic, Visualization} from 'components/stateless-helpers';\nimport UnitCircleControl from './UnitCircleControl';\nimport AnnotatedCurveControl from './AnnotatedCurveControl';\n\ntype Props = {};\n\ntype State = {};\n\nconst clampPiRatio = (raw: number): number =>  {\n    const clamped = raw < 0 ? raw + 2 : raw;\n    return Math.round(clamped * 100)/100;\n};\n\nclass UnitCircleAndCurves extends Component<Props, State> {\n    state = {\n        piRatio: 0.25,\n        revealLevel: 0,\n    };\n\n    onChangePiRatio = (piRatio: number) => {\n        this.setState({piRatio: clampPiRatio(piRatio)});\n    };\n\n    setReveal = (revealLevel: number) => {\n        this.setState({revealLevel});\n    };\n\n    render(): JSX.Element {\n        const {revealLevel} = this.state;\n\n        return (\n            <Topic>\n                <ScrollToTopOnMount />\n                <h2>Sine, Cosine, and the Unit Circle</h2>\n                <Context>\n                    This visualization shows the anatomy of a\n                    <RevealLink onClick={() => this.setReveal(0)}>unit circle</RevealLink>\n                    and how a\n                    <RevealLink onClick={() => this.setReveal(1)}>traditional trig triangle</RevealLink>\n                    fits inside the unit circle.<p/>\n                    Then it shows how a unit circle is related to a\n                    <RevealLink onClick={() => {\n                        this.setReveal(2);\n                        this.onChangePiRatio(0.25);\n                    }}>sine curve.</RevealLink>\n                    Finally it brings\n                    <RevealLink onClick={() => {\n                        this.setReveal(3);\n                        this.onChangePiRatio(0.25);\n                    }}>cosine curves</RevealLink>\n                    into the picture.<p/>\n                    But let's start at the beginning.\n                </Context>\n                <Row>\n                    <Visualization>\n                        <UnitCircleControl onChange={this.onChangePiRatio} piRatio={this.state.piRatio} revealLevel={revealLevel}/>\n                    </Visualization>\n                    <Context>\n                        <Context>\n                            <h3>Unit Circle</h3>\n                            A unit circle is a circle that is centered at x=0, y=0.<p/>\n                            The white line from (0,0) to the circle always has length of 1.\n                            The green arc length shows the distance around the perimeter of the circle from (1,0).<p/>\n                            Perhaps you recall the formula for the perimeter\n                            of a circle?<br/>\n                            As you drag the grey knob around, what do you expect the arc length to be at the top?<br/>\n                            At the far left? At the bottom? Not that you will ever quite see it, but how about the far right?<p/>\n                            Now that our circle makes sense, let's add\n                            <RevealLink onClick={() => {\n                                this.setReveal(1);\n                                this.onChangePiRatio(0.25);\n                            }\n                            }>\n                            a triangle!\n                            </RevealLink>\n                        </Context>\n                    {revealLevel >= 1 && (\n                        <Context>\n                            <h3>The Triangle</h3>\n                            We just put a traditional right triangle from trigonometry inside of our circle with the\n                            hypotenuse along the radius with a length of 1.\n                            The horizontal or adjacent side is shown in blue and the vertical or opposite side is shown in orange.<p/>\n                            The length of the arc gives us a way to describe the inside angle of the triangle in radians.<p/>\n                            Focus on the length of the orange vertical line as you change the angle. It leads directly to our next topic,\n                            <RevealLink onClick={() => {\n                                this.setReveal(2);\n                                this.onChangePiRatio(0.25);\n                            }\n                            }>sine curves</RevealLink>\n                        </Context>\n                    )}\n                    </Context>\n                </Row>\n\n                {revealLevel >= 2 && (\n                    <Row>\n                        <Context>\n                            <h3>Sine Curve</h3>\n                            In our normal trig triangle, the sine of the angle is the length of\n                            the opposite side divided by the hypotenuse.\n                            Or to put it the other way, the height of the opposite side of a triangle is the hypotenuse\n                            multiplied by the sine of the angle.<p/>\n                            But our triangle is trapped in a unit circle! So, the hypotenuse is always 1 and the opposite side\n                            of the triangle and the sine of the angle are exactly the same.<p/>\n                            As you manipulate the angle you can see how the vertical side of the triangle in the unit circle\n                            matches up to the value of the sine curve (both in orange).<p/>\n                            The blue horizontal line in the triangle leads us to our last topic,\n                            <RevealLink onClick={() => {\n                                this.setReveal(3);\n                                this.onChangePiRatio(0.25);\n                            }\n                            }>cosine curves</RevealLink>\n                        </Context>\n                        <AnnotatedCurveControl onChange={this.onChangePiRatio} piRatio={this.state.piRatio} yFunction={Math.sin}/>\n                    </Row>\n                )}\n\n                {revealLevel >= 3 && (\n                   <Row>\n                       <Context>\n                           <h3>Cosine Curve</h3>\n                           The value of the blue cosine curve is the same as the length of the blue adjacent side of the triangle.\n                       </Context>\n                       <AnnotatedCurveControl onChange={this.onChangePiRatio} piRatio={this.state.piRatio} yFunction={Math.cos}/>\n                   </Row>\n                )}\n\n                <Context>\n                    <h3>Next Steps</h3>\n                    Now that we have built some understanding of what a sine curve means in the context of a triangle we can explore\n                    other uses. For example, many things change periodically <Link to=\"/sine-over-time\">over time</Link>.\n                </Context>\n            </Topic>\n        );\n    };\n}\nexport default UnitCircleAndCurves;","import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport {\n    Context,\n    RevealLink,\n    Row,\n    ScrollToTopOnMount,\n    Symbol,\n    Title,\n    Topic,\n    Visualization\n} from 'components/stateless-helpers';\nimport CurveControl from \"../components/CurveControl\";\nimport TimePlot from \"../components/TimePlot\";\nimport {Sample} from \"../model/types\";\nimport SineCurve from \"../model/SineCurve\";\n\ntype Props = {};\n\ntype State = {\n    amplitude: number;\n    frequency: number;\n}\n\nclass SineOverTime extends Component<Props, State> {\n    state = {\n        amplitude: 2,\n        frequency: 1,\n        phase: 0,\n    };\n\n    onChangeCurveParameter = (curveNumber: number, parameterName: 'amplitude' | 'frequency' | 'phase', value: number) => {\n        const state = this.state;\n        state[parameterName] = value;\n        this.setState(state);\n    };\n\n    render(): JSX.Element {\n        const maxAmplitude = 5;\n        const timePlotHeight = 150;\n        const samplingRate = 600;\n        const tEnd = 5;\n\n        const {amplitude, frequency} = this.state;\n        const firstSample: Sample = new SineCurve({amplitude, frequency})\n            .sample(0, tEnd, samplingRate);\n\n        return (\n            <Topic>\n                <ScrollToTopOnMount />\n                <h2>Sine over Time</h2>\n                <Context>\n                    As the <Link to=\"/unit-circle\">previous topic</Link> showed, a sine curve tracks the height of the\n                    opposite side of a right triangle as the inner angle goes from zero to 2 in radians.<p/>\n                    Sine and cosine curves can also be used to model a lot of other physical phenomena.\n                    A single curve can be used to model:\n                    <ul>\n                        <li>alternating current in a wire</li>\n                        <li>the sound from a perfect tuning fork</li>\n                        <li>a constant frequency radio signal</li>\n                    </ul>\n                    In these applications the horizontal axis is no longer an angle but rather time. Instead of a length,\n                    the vertical axis represents some sort of intensity or strength.<p/>\n                    When discussing these curves, the most important characteristic is usually the frequency, as in how\n                    frequently does the curve repeat in a single second. A<RevealLink onClick={() => {\n                        this.setState({amplitude: 2});\n                        this.setState({frequency: 1});\n                    }}>1 Hertz</RevealLink>\n                    (1 Hz) sine curve repeats once every second.<p/>\n                    To get a curve that repeats f times a second, the argument to sine must be 2 multiplied by f.\n                </Context>\n                <Visualization>\n                    <Row>\n                        <Symbol width=\"150px\">&nbsp;</Symbol>\n                        <Title width=\"500px\">{amplitude} sin({frequency} x 2 x time) </Title>\n                    </Row>\n                    <Row>\n                        <CurveControl onChange={this.onChangeCurveParameter} curveNumber={0} curveParameters={{amplitude, frequency}}/>\n                        <TimePlot width={500} height={timePlotHeight} minY={-maxAmplitude} maxY={maxAmplitude} values={firstSample}/>\n                    </Row>\n                </Visualization>\n                <Context>\n                    <h3>Real life amplitudes and frequencies</h3>\n                    <ul>\n                        <li>Household current in the US is usually 120 Volts in amplitude with a frequency of 60 Hz</li>\n                        <li>A middle C tuning fork produces a roughly 50 decibel wave at 261.63 Hz</li>\n                        <li>A FM radio station produces waves with amplitudes that are generally below 50 thousand watts\n                            (50 kilowatts or 50kW) and frequencies that start at 88 million Hertz\n                            (88 megahertz or 88MHz).\n                        </li>\n                    </ul>\n                </Context>\n                <Context>\n                    <h3>Next Steps</h3>\n                    A single sine or cosine curve is pretty boring. As we will see in the next topic,\n                    adding <Link to=\"/add-sines\">two curves</Link> together can be surprisingly interesting.\n                </Context>\n            </Topic>\n        );\n    }\n}\n\nexport default SineOverTime;\n","import React, { Component } from 'react';\nimport {\n    HashRouter,\n    Switch,\n    Route,\n} from 'react-router-dom';\n\nimport About from 'content/About';\nimport SimpleAddition from 'content/SimpleAddition';\n\n\nimport './App.scss';\nimport TopNav from 'components/TopNav';\nimport {LabeledPath} from 'model/types';\nimport Topics from 'content/Topics';\nimport SumOfManySines from 'content/SumOfManySines';\nimport UnitCircleAndCurves from 'content/UnitCircleAndCurves/UnitCircleAndCurves';\nimport SineOverTime from 'content/SineOverTime';\n\ntype Props = {};\n\ntype State = {};\n\nconst home: LabeledPath = {label: 'DSP Playground', path: '/'};\nconst links = [\n    {label: 'Topics', path: '/topics' },\n    {label: 'About', path: '/about' },\n];\nconst navProps = {home, links};\n\nclass App extends Component<Props, State> {\n\n\n    render(): JSX.Element {\n        return (\n            <div className=\"App\">\n                <HashRouter basename=\"/\">\n                    <TopNav {...navProps} centerText=\"\"/>\n                    <Switch>\n                        <Route path=\"/unit-circle\">\n                            <UnitCircleAndCurves />\n                        </Route>\n                        <Route path=\"/sine-over-time\">\n                            <SineOverTime />\n                        </Route>\n                        <Route path=\"/add-sines\">\n                            <SimpleAddition />\n                        </Route>\n                        <Route path=\"/sum-many-sines\">\n                            <SumOfManySines />\n                        </Route>\n                        <Route path=\"/about\">\n                            <About />\n                        </Route>\n                        <Route path=\"/topics\">\n                            <Topics />\n                        </Route>\n                        <Route path=\"/\">\n                            <Topics />\n                        </Route>\n                    </Switch>\n\n                    <TopNav {...navProps} centerText=\"&copy; 2021 - WoundedPixels.com\" />\n                </HashRouter>\n            </div>\n        );\n    };\n}\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}