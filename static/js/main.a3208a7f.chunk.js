(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{63:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n(1),c=n.n(i),s=n(17),l=n.n(s),r=(n(63),n(38)),o=n(4),h=n(5),u=n(7),d=n(6),j=n(11),p=n(12),g=n(101),b=n(102),x=n(105),m=n(104),v={},f=function(e){var t=e.text,n=e.children;return Object(a.jsxs)("div",{style:v,children:[n,Object(a.jsx)(g.a,{title:t,children:Object(a.jsx)(b.a,{"aria-label":"hint",children:Object(a.jsx)(m.a,{fontSize:"small"})})})]})},O={background:"#f6ebb0",margin:"10px 0",padding:"5px 0"},y=function(e){var t=e.children;return Object(a.jsx)("div",{style:O,children:t})},S={alignItems:"center",display:"flex",flexDirection:"row",flexGrow:0,justifyContent:"start",width:"100%"},w=function(e){var t=e.children;return Object(a.jsx)("div",{className:"Row",style:S,children:t})},k={paddingTop:"8px"},C=function(e){var t=e.children;return Object(a.jsx)("div",{style:k,children:t})},M={display:"flex",flexDirection:"column",flexGrow:2,paddingTop:"10px",textAlign:"left",width:"85%"},A=function(e){var t=e.className,n=e.children;return Object(a.jsx)("div",{className:t,style:M,children:n})},N=function(e){var t={display:"flex",fontSize:"18px",fontWeight:"bold",textAlign:"center",justifyContent:"center",width:e.width,height:"18px"};return Object(a.jsx)("div",{style:t,children:e.children})},Y=function(e){var t={display:"flex",fontSize:"32px",fontWeight:"bold",textAlign:"center",justifyContent:"center",width:e.width,height:"32px"};return Object(a.jsx)("div",{style:t,children:e.children})},T={padding:"10px 10px"},D=function(e){var t=e.children;return Object(a.jsx)("div",{style:T,children:t})},q=function(e){var t=e.index,n=e.onClick,i=e.children;return Object(a.jsx)("span",{children:Object(a.jsxs)(x.a,{onClick:function(){n(t)},children:[" ",i," "]})})},P=function(e){var t=e.onClick,n=e.children;return Object(a.jsxs)("span",{children:["\xa0",Object(a.jsxs)(x.a,{onClick:t,children:[" ",n," "]})]})},I=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"componentDidMount",value:function(){window.scrollTo(0,0)}},{key:"render",value:function(){return null}}]),n}(c.a.Component),z=function(e){var t=e.current,n=e.min,i=e.max,c=e.onZoom,s={margin:"0 2px"};return Object(a.jsxs)("div",{style:{margin:"0 10px"},children:[Object(a.jsx)("button",{style:s,disabled:t===n,onClick:function(){return c(-1)},children:"Zoom In"}),Object(a.jsx)("button",{style:s,disabled:t===i,onClick:function(){return c(1)},children:"Zoom Out"})]})},X=function(){return Object(a.jsxs)(A,{children:[Object(a.jsx)("h2",{children:"About"}),Object(a.jsx)(C,{children:"I believe that people learn by tinkering, exploring, breaking and re-assembling things. For most of us the math is only valuable to nail down the details after we see where things are headed. So, pretty much every page of this site has dials, sliders or gizmos that drive the visualizations. Tinker away!"}),Object(a.jsx)("h3",{children:"Goals"}),Object(a.jsx)(C,{children:"Digital Signal Processing (DSP) can be a very daunting topic - lots of math and some pretty arcane terminology. It is also a ridiculously powerful foundation for a lot of very powerful technology. DSP is very much worth your time and effort. I hope this playground helps you build some intellectual momentum as you learn it."}),Object(a.jsx)("h3",{children:"Who"}),Object(a.jsx)(C,{children:"I am a software developer who works around DSP and finds it fascinating. I also really enjoy building visualizations. This site is my way of deepening my own understanding and (hopefully) giving a little bit back to the community."})]})},E=n(23),F=n(106),R=n(103),K=(n(68),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.curveNumber,i=t.curveParameters,c=t.includePhase,s=function(t,c,s,l){return Object(a.jsxs)("div",{className:"float-input",children:[Object(a.jsx)(F.a,{children:t}),Object(a.jsx)(R.a,{value:i[t],type:"number",inputProps:{step:l,min:c,max:s},onChange:function(a){e.props.onChange(n,t,parseFloat(a.target.value))}})]})},l=s("amplitude",-4,4,.1),r=s("frequency",0,20,.1),o=c?s("phase",-1,1,.1):null;return Object(a.jsxs)("div",{className:"CurveControl",children:[l,r,o]})}}]),n}(i.Component)),L=function(){function e(t){Object(o.a)(this,e),this.curveParameters=void 0,this.curveParameters=t}return Object(h.a)(e,[{key:"sample",value:function(e,t,n){for(var a=this.curveParameters,i=a.amplitude,c=a.frequency,s=this.curveParameters.phase||0,l=1/n,r=[],o=e;o<=t;o+=l){var h={time:o,value:i*Math.sin(2*(o*c+s)*Math.PI)};r.push(h)}return r}}]),e}(),B=n(19),W=(n(69),n(37)),H=5,U=0,G=40,Z=25,J=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateSvgX",value:function(e){var t=this.props,n=t.values,a=t.width,i=n[0].time,c=n[n.length-1].time;return Z+(e-i)*(a-Z-U)/(c-i)}},{key:"calculateSvgY",value:function(e){var t=this.props,n=t.values,a=t.height,i=this.props.minY||Math.min.apply(Math,Object(B.a)(n.map((function(e){return e.value})))),c=this.props.maxY||Math.max.apply(Math,Object(B.a)(n.map((function(e){return e.value})))),s=a-H-G;return H+s-(e-i)*s/(c-i)}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.values,i=t.width,c=t.height,s=n[0].time,l=n[n.length-1].time,r=this.props.minY||Math.min.apply(Math,Object(B.a)(n.map((function(e){return e.value})))),o=this.props.maxY||Math.max.apply(Math,Object(B.a)(n.map((function(e){return e.value})))),h=Object(W.a)(s,l),u=Object(W.a)(r,o),d="0 0 ".concat(i," ").concat(c),j="M ".concat(this.calculateSvgX(s)," ").concat(this.calculateSvgY(n[0].value)," "),p=1;p<n.length;p++)j+="L ".concat(this.calculateSvgX(n[p].time)," ").concat(this.calculateSvgY(n[p].value)," ");var g=u.map((function(t,n){return Object(a.jsx)("path",{className:"grid-line",d:"M ".concat(e.calculateSvgX(s)," ").concat(e.calculateSvgY(t)," L ").concat(e.calculateSvgX(l)," ").concat(e.calculateSvgY(t))},n)})),b=h.map((function(t,n){return Object(a.jsx)("path",{className:"grid-line",d:"M ".concat(e.calculateSvgX(t)," ").concat(e.calculateSvgY(r)," L ").concat(e.calculateSvgX(t)," ").concat(e.calculateSvgY(o))},n)})),x=Object(a.jsx)("path",{className:"curve",d:j}),m=h[h.length-1]<.2,v=m?"time (milliseconds)":"time (seconds)",f=Object(a.jsx)("text",{className:"bottom-label",x:.52*i,y:c-.2*G,children:v}),O=h.map((function(t,n){var i=m?1e3*t:t;return Object(a.jsx)("text",{className:"x-axis-label",x:e.calculateSvgX(t),y:c-.6*G,children:i},n)})),y=u.map((function(t,n){return n%2===0?Object(a.jsx)("text",{className:"y-axis-label",x:.75*Z,y:e.calculateSvgY(t),children:t},n):null}));return Object(a.jsx)("div",{className:"TimePlot",style:{width:"".concat(i,"px"),height:"".concat(c,"px")},children:Object(a.jsxs)("svg",{style:{width:"".concat(i,"px"),height:"".concat(c,"px")},viewBox:d,children:[b,g,O,y,f,x]})})}}]),n}(i.Component),V=function(){for(var e=[],t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];for(var i=0;i<n[0].length;i++){e.push({time:n[0][i].time,value:0});for(var c=0;c<n.length;c++)e[i].value+=n[c][i].value}return e},Q=[{amplitude:3.1,frequency:2.7},{amplitude:1.3,frequency:9.1}],$={jaggedParameters:Q,beatParameters:[{amplitude:2,frequency:7},{amplitude:2,frequency:8}],flatParameters:[{amplitude:3,frequency:1},{amplitude:.5,frequency:3}]},_=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={curveParameters:[{amplitude:1,frequency:1},{amplitude:1,frequency:2}]},e.onChangeCurveParameter=function(t,n,a){var i=e.state;i.curveParameters[t][n]=a,e.setState(i)},e.onExample=function(t){var n=t+"Parameters";$[n]?e.setState({curveParameters:Object(E.cloneDeep)($[n])}):e.setState({curveParameters:Object(E.cloneDeep)(Q)})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this.state.curveParameters,t=new L(e[0]).sample(0,5,1200),n=new L(e[1]).sample(0,5,1200),i=V(t,n);return Object(a.jsxs)(A,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Addition of Sine Curves"}),Object(a.jsxs)(C,{children:["Adding sine curves is pretty simple, but it can produce some very strange results: The inputs below allow you to control the amplitude and frequency of two sine curves. Their sum is shown at the bottom.",Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["A combination of two smooth curves can be",Object(a.jsx)(q,{index:"jagged",onClick:this.onExample,children:"surprisingly jagged"})]}),Object(a.jsxs)("li",{children:["A mixture of curves with similar frequencies produces a",Object(a.jsx)(q,{index:"beat",onClick:this.onExample,children:"wave of waves"}),"or beat"]}),Object(a.jsxs)("li",{children:["It is even easy to get a curve with a",Object(a.jsx)(q,{index:"flat",onClick:this.onExample,children:"flattened top and bottom"})]})]}),"What strange patterns can you create?"]}),Object(a.jsxs)(D,{children:[Object(a.jsxs)(w,{children:[Object(a.jsx)(K,{onChange:this.onChangeCurveParameter,curveNumber:0,curveParameters:this.state.curveParameters[0]}),Object(a.jsx)(J,{width:500,height:150,minY:-5,maxY:5,values:t})]}),Object(a.jsxs)(w,{children:[Object(a.jsx)(Y,{width:"150px",children:"+"}),Object(a.jsx)(Y,{width:"100%",children:"\xa0"})]}),Object(a.jsxs)(w,{children:[Object(a.jsx)(K,{onChange:this.onChangeCurveParameter,curveNumber:1,curveParameters:this.state.curveParameters[1]}),Object(a.jsx)(J,{width:500,height:150,minY:-5,maxY:5,values:n})]}),Object(a.jsxs)(w,{children:[Object(a.jsx)(Y,{width:"150px",children:"="}),Object(a.jsx)(J,{width:500,height:300,minY:-10,maxY:10,values:i})]})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Things to Try"}),Object(a.jsxs)(f,{text:"Focus on the difference between the two frequencies",children:["Can you see a pattern with beats? Specifically, can you make the",Object(a.jsx)(q,{index:"beat",onClick:this.onExample,children:" beat "})," slower"]}),Object(a.jsxs)(f,{text:"Focus on the ratio of the frequencies and the ratio of the amplitudes",children:["What other combinations cause",Object(a.jsx)(q,{index:"flat",onClick:this.onExample,children:"flat tops and bottoms"})]}),Object(a.jsx)("h3",{children:"Why Bother?"}),Object(a.jsx)("div",{children:"Our world may be more digital every day, but the real world is analog - radio waves travel from here to Mars or from your phone to your Bluetooth headphones. Sound waves travel from your speakers to your ears."}),Object(a.jsx)(y,{children:"When data travels through air, wires, fiber optic cables or the vacuum of space it is usually encoded with fancy combinations of sine waves!"}),Object(a.jsx)("div",{children:"Engineering and medical data is often easier to understand if it is modeled as the sum of sine waves. Electrical activity from the heart and brain can be measured and modeled to help researchers and practitioners. While the scale of the waves are very different, the same mathematical techniques that help scientists understand the behavior of the heart also apply to vibrations in the earth's crust!"})]}),Object(a.jsx)(C,{children:Object(a.jsxs)("div",{children:["Many academic and professional pursuits build on these concepts:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Acoustics"}),Object(a.jsx)("li",{children:"Electronic music"}),Object(a.jsx)("li",{children:"Electrical Engineering"}),Object(a.jsx)("li",{children:"Radios and Software Defined Radios"}),Object(a.jsx)("li",{children:"Radar systems"}),Object(a.jsx)("li",{children:"Understanding complex periodic data from cardiology to seismology"})]})]})}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Next Steps"}),Object(a.jsxs)("div",{children:["If adding two sine curves produce interesting results then we clearly have to try more. Many many more. So, we need a way to quickly control the amplitudes of",Object(a.jsx)(j.b,{to:"/sum-many-sines",children:" many sines"}),"."]})]})]})}}]),n}(i.Component),ee=(n(71),n(72),function(e){return Object(a.jsx)(j.b,{to:e.path,children:e.label},e.path)}),te=function(e){var t=e.home,n=e.links,i=e.centerText,c=n.map(ee);return Object(a.jsxs)("div",{className:"TopNav",children:[Object(a.jsx)("div",{className:"left-nav-link",children:ee(t)}),Object(a.jsx)("div",{className:"center-text",children:i}),Object(a.jsx)("div",{className:"right-nav-link",children:c})]})},ne=(n(73),n(74),n(36));function ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return Math.round(e*t)/t}function ie(e,t,n){return e>n?n:e<t?t:e}function ce(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function se(e){return 0===e?1:Math.sin(Math.PI*e)/(Math.PI*e)}function le(e){var t=e.reduce((function(e,t){return t+e}),0);return e.map((function(e){return e/t}))}var re=5,oe=40,he=0,ue=100,de=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"calculateSvgX",value:function(e){var t=this.props,n=t.signalAmplitudes,a=t.kernelAmplitudes,i=t.width,c=n.length+2*a.length+1,s=i-ue-oe;return ue+(e+a.length)*s/c}},{key:"calculateSvgY",value:function(e,t){var n=this.props,a=n.height,i=n.plotAmplitude,c=(a-re-he)/3;return re+t*c+c-(e+i)*c/(2*i)}},{key:"calculateSvgSignalY",value:function(e){return this.calculateSvgY(e,0)}},{key:"calculateSvgKernelY",value:function(e){return this.calculateSvgY(e,1)}},{key:"calculateSvgOutputSignalY",value:function(e){return this.calculateSvgY(e,2)}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,c=t.height,s=t.iIndex,l=t.jIndex,r=t.plotAmplitude,o=t.kernelAmplitudes,h=t.signalAmplitudes,u=function(e,t){for(var n=[],a=e.length+t.length-1,i=0;i<a;i++){n.push(0);for(var c=0;c<t.length;c++){var s=i-c;s<0||s>=e.length||(n[i]+=e[s]*t[c])}}return n}(h,o),d="0 0 ".concat(n," ").concat(c),j=Object(W.a)(-r,r),p=Object(a.jsx)("text",{className:"section-label",x:0,y:this.calculateSvgSignalY(0),children:"Signal"}),g=Object(a.jsx)("text",{className:"section-label",x:0,y:this.calculateSvgKernelY(0),children:"Kernel"}),b=Object(a.jsx)("text",{className:"section-label",x:0,y:this.calculateSvgOutputSignalY(0),children:"Output Signal"}),x=j.map((function(t,n){return Object(a.jsx)("text",{className:"axis-label",x:e.calculateSvgX(0)+-8,y:e.calculateSvgSignalY(t),children:t},n)})),m=j.map((function(t,n){return Object(a.jsx)("text",{className:"axis-label",x:e.calculateSvgX(s-o.length+1)+-8,y:e.calculateSvgKernelY(t),children:t},n)})),v=j.map((function(t,n){return Object(a.jsx)("text",{className:"axis-label",x:e.calculateSvgX(0)+-8,y:e.calculateSvgOutputSignalY(t),children:t},n)})),f=j.map((function(t,n){return Object(a.jsx)("path",{className:"grid-line",d:"M ".concat(e.calculateSvgX(0)," ").concat(e.calculateSvgSignalY(t),"\n                        L ").concat(e.calculateSvgX(h.length-1)," ").concat(e.calculateSvgSignalY(t))},n)})),O=j.map((function(t,n){return Object(a.jsx)("path",{className:"grid-line",d:"M ".concat(e.calculateSvgX(s-o.length+1)," ").concat(e.calculateSvgKernelY(t),"\n                        L ").concat(e.calculateSvgX(s)," ").concat(e.calculateSvgKernelY(t))},n)})),y=j.map((function(t,n){return Object(a.jsx)("path",{className:"grid-line",d:"M ".concat(e.calculateSvgX(0)," ").concat(e.calculateSvgOutputSignalY(t),"\n                        L ").concat(e.calculateSvgX(h.length+o.length-1)," ").concat(e.calculateSvgOutputSignalY(t))},n)})),S=o.map((function(t,n){var i=s-n,c=l===n?"current-diagonal":"diagonal";return n<=l&&i>=0&&i<h.length?Object(a.jsx)("path",{className:c,d:"M ".concat(e.calculateSvgX(i)," ").concat(e.calculateSvgSignalY(h[i]),"\n                        L ").concat(e.calculateSvgX(s-o.length+1+n)," ").concat(e.calculateSvgKernelY(t))},n):null})).filter((function(e){return null!==e})),w=l>=0&&S.length>0,k=h.map((function(t,n){var i="unused-signal-value";return w&&n===s-l?i="current-signal-value":n>s-o.length&&n<=s&&(i="signal-value"),Object(a.jsx)("circle",{className:i,cx:e.calculateSvgX(n),cy:e.calculateSvgSignalY(t),r:3},n)})),C=o.map((function(t,n){var i=n===l?"current-kernel-value":"kernel-value";return Object(a.jsx)("circle",{className:i,cx:e.calculateSvgX(s-o.length+1+n),cy:e.calculateSvgKernelY(t),r:3},n)})),M=u.map((function(t,n){var i=n<s?"previous-out-signal-value":"future-out-signal-value";return n<=s?Object(a.jsx)("circle",{className:i,cx:e.calculateSvgX(n),cy:e.calculateSvgOutputSignalY(t),r:3},n):null})),A=o.reduce((function(e,t,n){var a=s-n;return n<=l&&a>=0&&a<h.length?e+t*h[a]:e}),0),N=w?Object(a.jsx)("circle",{className:"current-out-signal-value",cx:this.calculateSvgX(s),cy:this.calculateSvgOutputSignalY(A),r:3}):null,Y=(this.calculateSvgX(s-l)+this.calculateSvgX(s-o.length+1+l))/2,T=(this.calculateSvgSignalY(h[s-l])+this.calculateSvgKernelY(o[l]))/2,D=w&&s-l>=0&&s-l<h.length?Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)("rect",{className:"multiplication-sign-background",x:Y-9,y:T-9,width:18,height:18}),Object(a.jsx)("line",{className:"multiplication-sign",x1:Y-4,y1:T-4,x2:Y+4,y2:T+4}),Object(a.jsx)("line",{className:"multiplication-sign",x1:Y-4,y1:T+4,x2:Y+4,y2:T-4})]}):null,q=o.map((function(t,n){var i=s-n,c=l===n?"current-diagonal":"diagonal";return n<=l&&i>=0&&i<h.length?Object(a.jsx)("path",{className:c,d:"M ".concat(e.calculateSvgX(s-o.length+1+n)," ").concat(e.calculateSvgKernelY(t),"\n                        L ").concat(e.calculateSvgX(s)," ").concat(e.calculateSvgKernelY(-10))},n):null})),P=this.calculateSvgX(s),I=this.calculateSvgKernelY(-10),z=w?Object(a.jsxs)(i.Fragment,{children:[Object(a.jsx)("rect",{className:"plus-sign-background",x:P-9,y:I-9,width:18,height:18}),Object(a.jsx)("line",{className:"plus-sign",x1:P-5,y1:I,x2:P+5,y2:I}),Object(a.jsx)("line",{className:"plus-sign",x1:P,y1:I-5,x2:P,y2:I+5})]}):null,X=w?Object(a.jsx)("line",{className:"current-diagonal",x1:P,y1:I,x2:P,y2:this.calculateSvgOutputSignalY(A)}):null;return Object(a.jsx)("div",{className:"StepsPlot",style:{width:"".concat(n,"px"),height:"".concat(c,"px")},children:Object(a.jsxs)("svg",{style:{width:"".concat(n,"px"),height:"".concat(c,"px")},viewBox:d,children:[p,g,b,x,m,v,f,O,y,S,q,X,D,z,k,C,N,M]})})}}]),n}(i.Component),je=[-2,-1,0,1,2,3,3,3,3,2,1,0,-1,-2,-3,-3,-3],pe=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,a=[],i=Math.min.apply(Math,Object(B.a)(t.map((function(e){return e.frequency})))),c=2*n*Math.PI/i,s=c/e,l=0;l<c;l+=s){var r,o=0,h=Object(ne.a)(t);try{for(h.s();!(r=h.n()).done;){var u=r.value;o+=u.amplitude*Math.sin(u.frequency*l)}}catch(d){h.e(d)}finally{h.f()}a.push(o)}return a}(400,[{frequency:1,amplitude:5},{frequency:10,amplitude:1}],4),ge=[-1,1,1],be=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=[],a=-Math.round(t/2);a<=t/2;a++)n.push(se(2*e*a));return le(n)}(.09,50),xe={sampleKernel:ge,flipKernel:[-1],derivativeKernel:[1,-1],delayKernel:[0,0,0,1],lowpassKernel:be},me={shortSignal:je,longSignal:pe},ve=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={signalAmplitudes:je,kernelAmplitudes:ge,iIndex:5,jIndex:-1,playing:!1},e.onSelectKernel=function(t){var n=t+"Kernel";if(xe[n]){var a=xe[n].length>.25*e.state.signalAmplitudes.length?pe:e.state.signalAmplitudes,i=a.length+xe[n].length-2;e.setState({iIndex:i,jIndex:xe[n].length-1,signalAmplitudes:a,kernelAmplitudes:xe[n]})}else{var c=je.length+ge.length-2,s=ge.length-1;e.setState({iIndex:c,jIndex:s,signalAmplitudes:je,kernelAmplitudes:ge})}},e.onSelectSignal=function(t){var n=t+"Signal";if(me[n]){var a=e.state.kernelAmplitudes.length>.25*me[n].length?ge:e.state.kernelAmplitudes,i=me[n].length+a.length-2,c=a.length-1;e.setState({iIndex:i,jIndex:c,signalAmplitudes:me[n],kernelAmplitudes:a})}else{var s=je.length+ge.length-2,l=ge.length-1;e.setState({iIndex:s,jIndex:l,signalAmplitudes:je,kernelAmplitudes:ge})}},e.incrementIndex=function(){var t=e.state,n=t.iIndex,a=t.jIndex,i=t.kernelAmplitudes;n===t.signalAmplitudes.length+i.length-2&&a===i.length-1?e.setState({playing:!1,iIndex:0,jIndex:-1}):a===i.length-1?e.setState({playing:!1,iIndex:n+1,jIndex:-1}):e.setState({playing:!1,jIndex:a+1})},e.doPlay=function(){var t=e.state,n=t.iIndex,a=t.kernelAmplitudes,i=t.signalAmplitudes;e.state.playing&&(n===i.length+a.length-2?e.setState({iIndex:0,jIndex:a.length-1}):e.setState({iIndex:n+1,jIndex:a.length-1}),setTimeout(e.doPlay,25))},e.togglePlay=function(){e.setState({playing:!e.state.playing}),setTimeout(e.doPlay,25)},e.incrementToEnd=function(){var t=e.state,n=t.kernelAmplitudes,a=t.signalAmplitudes;e.setState({playing:!1,iIndex:a.length+n.length-2,jIndex:n.length-1})},e}return Object(h.a)(n,[{key:"buildCommentary",value:function(){var e=this.state,t=e.iIndex,n=e.jIndex,a=e.kernelAmplitudes,i=e.playing,c=e.signalAmplitudes,s=t-n;if(i||a.length>10)return"";if(-1===n)return"The grey dots in the output signal represent the values that have already been calculated. The empty\n            dot represents the value that is about to be calculated. Each dark black value in the signal will be\n            multiplied with one of the kernel values to contribute to the output value.";if(s>=c.length)return"Things get a little odd as the kernel slides past the edge of the input signal. If there is no\n            corresponding input value for a kernel value then it is assumed to be zero.";if(s<0)return"Things get a little odd as the kernel slides up to the edge of the input signal. If there is no\n            corresponding input value for a kernel value then it is assumed to be zero.";var l=c[s],r=a[n];return 0===n?"Each value in the kernel is associated with the opposite value in the input signal in a \n           criss cross pattern. In this step the blue ".concat(ae(l)," from the input signal is multiplied by the\n           green ").concat(ae(r)," from the kernel to contribute ").concat(ae(l*r)," to the output signal."):1===n?"The running total is shown in orange in the output signal.":"Once you get past the odd criss cross pattern it is just repetitive multiplication and addition. But if\n        a computer does it fast enough you can get some amazing results."}},{key:"render",value:function(){var e=this.state,t=e.signalAmplitudes,n=e.playing,i=e.kernelAmplitudes,c=e.iIndex,s=e.jIndex,l=this.buildCommentary(),r=i.map((function(e,n){var i=c-n,l=""+ae(t[i]),r=""+ae(e),o=n<s?" + ":" = ",h=n===s?"current-signal-span":"signal-span",u=n===s?"current-kernel-span":"kernel-span";return n>s?null:i>=0&&i<t.length?Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{children:"("}),Object(a.jsx)("span",{className:h,children:l}),Object(a.jsx)("span",{children:"x"}),Object(a.jsx)("span",{className:u,children:r}),Object(a.jsx)("span",{children:")"}),Object(a.jsx)("span",{children:o})]},n):Object(a.jsxs)("span",{children:[Object(a.jsx)("span",{className:h,children:"0"}),Object(a.jsx)("span",{children:o})]},n)})),o=ae(i.reduce((function(e,n,a){var i=c-a;return a<=s&&i>=0&&i<t.length?e+n*t[i]:e}),0)),h=s>=0&&!n&&i.length<10?Object(a.jsxs)("div",{children:[" ",r,Object(a.jsx)("span",{className:"product-sum",children:o})]}):null;return Object(a.jsxs)(A,{className:"ConvolutionSteps",children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Convolution Steps"}),Object(a.jsxs)(C,{children:["Convolution is a powerful way to alter or filter a signal by combining it with another signal. In our case both signals are represented by discrete points rather than smooth or continuous curves.",Object(a.jsx)("p",{}),"The signal that we are trying to modify is combined with a carefully selected smaller signal called a kernel. Each element of the output signal is calculated by applying the kernel values to a block of points in the signal that is the same size as the kernel. The kernel slides along the input signal until all the values of the output signal have been calculated. Use the 'Next' button below to see the sequence of steps that calculate each point in the output signal."]}),Object(a.jsx)(D,{children:Object(a.jsx)(de,{width:800,height:500,plotAmplitude:10,signalAmplitudes:t,kernelAmplitudes:i,iIndex:c,jIndex:s})}),Object(a.jsxs)(w,{children:[Object(a.jsx)("button",{onClick:this.incrementIndex,children:"Next"}),Object(a.jsx)("button",{onClick:this.togglePlay,children:this.state.playing?"Stop":"Play"}),Object(a.jsx)("button",{onClick:this.incrementToEnd,children:"End"}),"\xa0",h]}),Object(a.jsx)(w,{children:Object(a.jsx)("div",{className:"commentary",children:l})}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"More Kernels"}),"The initial",Object(a.jsx)(q,{index:"sample",onClick:this.onSelectKernel,children:"sample kernel"}),"is devised to make the math easy to follow. More interesting kernels include",Object(a.jsx)(q,{index:"flip",onClick:this.onSelectKernel,children:"flipping"}),"the signal, ",Object(a.jsx)(q,{index:"delay",onClick:this.onSelectKernel,children:"delaying"})," the signal,",Object(a.jsx)(q,{index:"derivative",onClick:this.onSelectKernel,children:"taking the derivative"}),"of the signal and ",Object(a.jsx)(q,{index:"lowpass",onClick:this.onSelectKernel,children:"filtering for low frequencies"})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"More Signals"}),"The initial",Object(a.jsx)(q,{index:"short",onClick:this.onSelectSignal,children:"sample signal"}),"is devised to make the math easy to follow. More interesting signals include",Object(a.jsx)(q,{index:"long",onClick:this.onSelectSignal,children:"high and low frequencies"})]})]})}}]),n}(i.Component),fe=function(){return Object(a.jsxs)(A,{children:[Object(a.jsx)("h2",{children:"Topics"}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/unit-circle",children:"Sine, Cosine and the Unit Circle"})}),Object(a.jsx)(C,{children:"DSP depends on sine waves and you need to understand the unit circle in order to understand sine waves. This visualization shows how the height and width of the triangle in the unit circle map to the sine and cosine curves."}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/sine-over-time",children:"Sine over Time"})}),Object(a.jsx)(C,{children:"In trigonometry sine is all about angles of triangles. In DSP it is all about sound or signal intensity over time."}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/add-sines",children:"Addition of Sine Curves"})}),Object(a.jsx)(C,{children:"Simple combinations of the humble sine curve yield many strange and useful curves. Let's start by specifying the amplitude and frequency of two curves and adding them together."}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/sum-many-sines",children:"Sum of Many Sines"})}),Object(a.jsx)(C,{children:"We can get interesting shapes by adding two sines together. What mischief can we create with twenty?"}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/sounds-from-sines",children:"Sounds from Sines"})}),Object(a.jsx)(C,{children:"We can make some fairly interesting sounds by combining sine waves"}),Object(a.jsx)("h3",{children:Object(a.jsx)(j.b,{to:"/convolution=steps",children:"Convolution Steps"})}),Object(a.jsx)(C,{children:"Convolution is not as complicated as it first appears. Ok, why it works is still magic to me but we can definitely understand the mechanics!"}),Object(a.jsx)("h3",{children:"Coming Soon"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Encoding information with Amplitude Modulation"}),Object(a.jsx)("li",{children:"Encoding information with Frequency Modulation"}),Object(a.jsx)("li",{children:"Introduction to Convolution"}),Object(a.jsx)("li",{children:"Convolution - DSP's Swiss army chainsaw"}),Object(a.jsx)("li",{children:"Discrete Fast Fourier Transforms"}),Object(a.jsx)("li",{children:"Sampling"})]})]})},Oe=(n(75),300),ye=15,Se=50,we=30,ke=(800-we-0)/20,Ce={width:.6*ke,height:10,margin:.2*ke},Me=function(e){return we+e*(Ce.width+2*Ce.margin)},Ae=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).svgRef=c.a.createRef(),e.state={activeDragIndex:-1},e.calculateKnobY=function(t){var n=(Oe-ye-Se)/(2*e.props.maxAmplitude),a=-e.props.maxAmplitude;return Oe-Se-(t-a)*n},e.calculateAmplitudeFromY=function(t){var n=2*e.props.maxAmplitude/(Oe-ye-Se),a=t-ye;return e.props.maxAmplitude-a*n},e.calculateTooltipX=function(e){return Me(e)+(e<10?Ce.width+32:-70)},e.convertToPlotY=function(t){var n=e.svgRef.current.getScreenCTM();return(t-n.f)/n.d},e.onChange=function(t,n,a){if(e.state.activeDragIndex===t){a.preventDefault();var i=e.props.maxAmplitude,c=ce(e.calculateAmplitudeFromY(n),1);e.props.onChange(t,ie(c,-i,i))}},e.startDrag=function(t,n){n.preventDefault(),e.setState({activeDragIndex:t})},e.stopDrag=function(t){t.preventDefault(),e.setState({activeDragIndex:-1})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.amplitudes,i=t.maxAmplitude,c=this.props.frequencies[0],s=this.props.frequencies[19],l=Object(a.jsxs)("text",{className:"bottom-label",x:320,y:Oe-.35*Se,children:["frequencies from ",c," to ",s," Hz"]}),r=[-i,0,i].map((function(t,n){return Object(a.jsx)("text",{className:"amplitude-label",x:8,y:e.calculateKnobY(t)+8,children:t},n)})),o=n.map((function(t,n){var c=function(t){var a=e.convertToPlotY(t.clientY);e.onChange(n,a,t)},s=function(t){var a=e.convertToPlotY(t.touches[0].clientY);e.onChange(n,a,t)};return Object(a.jsxs)("g",{children:[Object(a.jsx)("rect",{className:"channel-background",x:Me(n),y:e.calculateKnobY(i),width:Ce.width,height:e.calculateKnobY(-i)-e.calculateKnobY(i),onMouseMove:c,onMouseDown:function(t){return e.startDrag(n,t)},onMouseUp:function(t){return e.stopDrag(t)},onTouchStart:function(t){return e.startDrag(n,t)},onTouchEnd:function(t){return e.stopDrag(t)},onTouchMove:s}),Object(a.jsx)("rect",{className:"channel",x:Me(n)+.4*Ce.width,y:e.calculateKnobY(i),width:.2*Ce.width,height:e.calculateKnobY(-i)-e.calculateKnobY(i),onMouseMove:c,onMouseDown:function(t){return e.startDrag(n,t)},onMouseUp:function(t){return e.stopDrag(t)},onTouchStart:function(t){return e.startDrag(n,t)},onTouchEnd:function(t){return e.stopDrag(t)},onTouchMove:s}),Object(a.jsx)("rect",{className:"knob",x:Me(n),y:e.calculateKnobY(t)-Ce.height/2,width:Ce.width,height:Ce.height,onMouseMove:c,onMouseDown:function(t){return e.startDrag(n,t)},onMouseUp:function(t){return e.stopDrag(t)},onTouchStart:function(t){return e.startDrag(n,t)},onTouchEnd:function(t){return e.stopDrag(t)},onTouchMove:s})]},n)})),h="0 0 ".concat(800," ").concat(Oe),u=this.state.activeDragIndex,d=u>=0?Object(a.jsxs)("g",{children:[Object(a.jsx)("rect",{className:"active-change-description",x:this.calculateTooltipX(u),y:this.calculateKnobY(this.props.amplitudes[u]),width:60,height:50}),Object(a.jsxs)("text",{x:this.calculateTooltipX(u)+10,y:this.calculateKnobY(this.props.amplitudes[u])+20,className:"active-change-description",children:[this.props.frequencies[u]," Hz"]}),Object(a.jsx)("text",{x:this.calculateTooltipX(u)+10,y:this.calculateKnobY(this.props.amplitudes[u])+40,className:"active-change-description",children:this.props.amplitudes[u]})]}):null;return Object(a.jsx)("div",{className:"FrequencyDomainControl",children:Object(a.jsxs)("svg",{ref:this.svgRef,viewBox:h,children:[l,r,o,d]})})}}]),n}(i.Component),Ne=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20],Ye=[0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Te=[0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0,0,0,0,0],De={alternatingBeatFrequencies:[0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,2,-1,0,0,0],clearFrequencies:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],flatBeatFrequencies:[0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,-4,0,0,0,0],justOneFrequencies:Ye,spikyFrequencies:[0,0,1,0,0,1,0,0,1.5,0,0,2,0,0,1,0,0,3,0,0],twoFourSixFrequencies:[0,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0],inkFrequencies:[1.3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2,-.4,.2],oldBeatFrequencies:Te},qe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={amplitudes:Object(E.cloneDeep)(Ye),zoomLevel:1,logMessage:""},e.onZoom=function(t){var n=ie(e.state.zoomLevel+t,0,3);e.setState({zoomLevel:n})},e.onExample=function(t){var n=t+"Frequencies";De[n]?e.setState({amplitudes:Object(E.cloneDeep)(De[n])}):e.setState({amplitudes:Object(E.cloneDeep)(Te)})},e.onChange=function(t,n){var a=Object(B.a)(e.state.amplitudes);a[t]=n,e.setState({amplitudes:a})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=.5*Math.pow(2,this.state.zoomLevel),n=this.state.amplitudes.map((function(e,t){return new L({amplitude:e,frequency:t+1})})).map((function(e){return e.sample(0,t,2e3)})),i=V.apply(void 0,Object(B.a)(n));return Object(a.jsxs)(A,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Sum of Many Sines"}),Object(a.jsxs)(C,{children:["Each slider allows you to change the amplitude of a sine at that frequency.",Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["The simplest example",Object(a.jsx)(q,{index:"justOne",onClick:this.onExample,children:"is a single non-zero amplitude"})]}),Object(a.jsxs)("li",{children:["A mixture of frequencies at regular intervals produces a",Object(a.jsx)(q,{index:"spiky",onClick:this.onExample,children:"very spiky curve"})]}),Object(a.jsxs)("li",{children:["A mixture of curves with similar frequencies produces a",Object(a.jsx)(q,{index:"beat",onClick:this.onExample,children:"wave of waves"}),"or beat. You may recall this combination from the previous page"]}),Object(a.jsxs)("li",{children:["If you use three curves and are willing to go negative for one you can get a beat with a",Object(a.jsx)(q,{index:"flatBeat",onClick:this.onExample,children:"flattened top and bottom"})]}),Object(a.jsxs)("li",{children:["With a gap between the primary frequencies you can get alternating",Object(a.jsx)(q,{index:"alternatingBeat",onClick:this.onExample,children:"long and short beats"})]}),Object(a.jsxs)("li",{children:["A low frequency mixed with a few high frequencies can create a line and",Object(a.jsx)(q,{index:"ink",onClick:this.onExample,children:"brush stroke effect"})]}),Object(a.jsxs)("li",{children:["You may want to",Object(a.jsx)(q,{index:"clear",onClick:this.onExample,children:"clear all frequencies"})]})]})]}),Object(a.jsxs)(D,{children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(J,{values:i,width:800,height:400,minY:-10,maxY:10}),Object(a.jsxs)(w,{children:[Object(a.jsx)("button",{onClick:function(){return e.onExample("clear")},children:"Clear"}),Object(a.jsx)(z,{current:this.state.zoomLevel,min:0,max:3,onZoom:this.onZoom})]})]}),Object(a.jsx)("div",{children:Object(a.jsx)(Ae,{amplitudes:this.state.amplitudes,frequencies:Ne,maxAmplitude:4,onChange:this.onChange})})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Things to Try"}),"A harmonic series is made up of sine curves whose frequencies are integer multiples of a fundamental frequency. Such as",Object(a.jsx)(q,{index:"twoFourSix",onClick:this.onExample,children:"two, four and six"})," in which the first frequency, two Hz, is the fundamental frequency.",Object(a.jsx)(f,{text:"Focus on the fundamental frequency",children:"Can you make a harmonic series that repeats 4 times a second? Or 5?"}),Object(a.jsx)("h3",{children:"Why Bother?"}),Object(a.jsxs)("div",{children:["As we discussed in the previous page on the ",Object(a.jsx)(j.b,{to:"/add-sines",children:"addition of sine curves"}),", creating complicated curves from simple sines allows us to communicate in the real world."]}),Object(a.jsx)(y,{children:"Any periodic function can be represented by the sum of sine curves, provided you use enough of them. Fourier analysis is the branch of mathematics that is dedicated to the tricky bit of calculating the right amplitudes"})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Next Steps"}),"Sine waves are not just interesting to look at. Adding sines together ",Object(a.jsx)(j.b,{to:"/sounds-from-sines",children:"can make sounds"})," as well."]})]})}}]),n}(i.Component),Pe=(n(76),150),Ie=25,ze=100,Xe=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).svgRef=c.a.createRef(),e.state={activeDrag:!1},e.onChange=function(t,n,a){if(e.state.activeDrag){a.preventDefault();var i=e.calculateDomainX(t),c=e.calculateDomainY(n),s=ce(Math.atan2(c,i)/Math.PI,2);e.props.onChange(s)}},e.onMove=function(t){e.onChange(t.clientX,t.clientY,t)},e.onTouch=function(t){e.onChange(t.touches[0].clientX,t.touches[0].clientY,t)},e.startDrag=function(t){t.preventDefault(),e.setState({activeDrag:!0})},e.stopDrag=function(t){t.preventDefault(),e.setState({activeDrag:!1})},e}return Object(h.a)(n,[{key:"calculateSvgX",value:function(e){return Ie+100*(e- -1)/2}},{key:"calculateDomainX",value:function(e){var t=this.svgRef.current.getScreenCTM();return 2*((e-t.e)/t.a-Ie)/100-1}},{key:"calculateSvgY",value:function(e){return 125-(e- -1)*ze/2}},{key:"calculateDomainY",value:function(e){var t=this.svgRef.current.getScreenCTM(),n=(e-t.f)/t.d;return 2*(ze-n)/ze-1}},{key:"render",value:function(){var e=this.props,t=e.piRatio,n=e.revealLevel,i="0 0 ".concat(Pe," ").concat(Pe),s=this.calculateSvgX(0),l=this.calculateSvgY(0),r=t<=1?0:1,o=this.calculateSvgX(1)-this.calculateSvgX(0),h=this.calculateSvgY(1)-this.calculateSvgY(0),u=this.calculateSvgX(Math.cos(t*Math.PI)),d=this.calculateSvgY(Math.sin(t*Math.PI)),j=1.08*Math.cos(t*Math.PI/2),p=1.08*Math.sin(t*Math.PI/2),g=j>0?"start":"end",b=Object(a.jsx)("text",{className:"plot-title",x:this.calculateSvgX(0),y:"11",children:"Unit Circle"}),x=Object(a.jsxs)("text",{className:"angle-label",x:this.calculateSvgX(j),y:this.calculateSvgY(p),textAnchor:g,children:[t,"\u03c0"]}),m=Object(a.jsx)("circle",{className:"background-circle",cx:s,cy:l,r:50}),v=Object(a.jsx)("path",{className:"horizontal-line",d:"M ".concat(s," ").concat(l," L ").concat(u," ").concat(l)}),f=Object(a.jsx)("path",{className:"vertical-line",d:"M ".concat(u," ").concat(l," L ").concat(u," ").concat(d)}),O=Object(a.jsx)("path",{className:"radius-line",d:"M ".concat(s," ").concat(l," L ").concat(u," ").concat(d)}),y=Math.sin(t*Math.PI),S=Math.cos(t*Math.PI),w=Math.abs(y)>.1?Object(a.jsx)("text",{className:"vertical-line-label",textAnchor:S>0?"end":"start",x:u+(S>0?-5:5),y:(l+d)/2,children:y.toFixed(2)}):null,k=Math.abs(S)>.1?Object(a.jsx)("text",{className:"horizontal-line-label",x:(u+s)/2,y:l+(y>0?8:-6),children:S.toFixed(2)}):null,C=Object(a.jsx)("path",{className:"arc",d:"M ".concat(this.calculateSvgX(1)," ").concat(this.calculateSvgY(0)," A ").concat(o,",").concat(h," 0 ").concat(r," ").concat(0," ").concat(u," ").concat(d)}),M=Object(a.jsx)("circle",{className:"knob",cx:u,cy:d,r:2,onMouseMove:this.onMove,onMouseDown:this.startDrag,onMouseUp:this.stopDrag,onTouchStart:this.startDrag,onTouchEnd:this.stopDrag,onTouchMove:this.onTouch}),A=n>=1?Object(a.jsxs)(c.a.Fragment,{children:[v,f,w,k]}):null;return Object(a.jsx)("div",{className:"UnitCircleControl",children:Object(a.jsxs)("svg",{ref:this.svgRef,viewBox:i,onMouseMove:this.onMove,onMouseDown:this.startDrag,onMouseUp:this.stopDrag,onTouchStart:this.startDrag,onTouchEnd:this.stopDrag,onTouchMove:this.onTouch,children:[b,m,O,A,C,x,M,null]})})}}]),n}(i.Component),Ee=(n(77),40),Fe=0,Re=40,Ke=20,Le=2*Math.PI-0,Be=300-Ee-Re,We=750-Ke-Fe,He=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))).svgRef=c.a.createRef(),e.state={activeDrag:!1},e.onChange=function(t,n,a){if(e.state.activeDrag){a.preventDefault();var i=ce(ie(e.calculateDomainX(t),0,2*Math.PI)/Math.PI,2);e.props.onChange(i)}},e.onMove=function(t){e.onChange(t.clientX,t.clientY,t)},e.onTouch=function(t){e.onChange(t.touches[0].clientX,t.touches[0].clientY,t)},e.startDrag=function(t){t.preventDefault(),e.setState({activeDrag:!0})},e.stopDrag=function(t){t.preventDefault(),e.setState({activeDrag:!1})},e}return Object(h.a)(n,[{key:"calculateSvgX",value:function(e){return Ke+(e-0)*We/Le}},{key:"calculateDomainX",value:function(e){var t=this.svgRef.current.getScreenCTM();return 0+((e-t.e)/t.a-Ke)*Le/We}},{key:"calculateSvgY",value:function(e){return Ee+Be-(e- -1)*Be/2}},{key:"calculateRangeY",value:function(e){var t=this.svgRef.current.getScreenCTM(),n=(e-t.f)/t.d;return 2*(Be-n)/Be-1}},{key:"render",value:function(){for(var e=this.props,t=e.yFunction,n=e.piRatio,i=t===Math.sin?"Sine":"Cosine",c="0 0 ".concat(750," ").concat(300),s=this.calculateSvgX(0),l=this.calculateSvgX(n*Math.PI),r=this.calculateSvgY(0),o=this.calculateSvgY(t(n*Math.PI)),h=t===Math.sin?"orange":"blue",u="M ".concat(this.calculateSvgX(0)," ").concat(this.calculateSvgY(t(0))," "),d=.1;d<=2*Math.PI+.1;d+=.1)u+="L ".concat(this.calculateSvgX(d)," ").concat(this.calculateSvgY(t(d))," ");var j=Object(a.jsx)("path",{className:"curve",d:u}),p=Object(a.jsx)("text",{className:"plot-title",x:this.calculateSvgX(Math.PI),y:"13",children:i}),g=ie(n*Math.PI/2,.1,Math.PI),b=t(g)<0?-15:25,x=Object(a.jsxs)("text",{className:"angle-label",x:this.calculateSvgX(g),y:this.calculateSvgY(0)+b,children:[n,"\u03c0"]}),m=Object(a.jsx)("path",{className:"horizontal-line",d:"M ".concat(s," ").concat(r," L ").concat(l," ").concat(r)}),v=Object(a.jsx)("path",{className:"vertical-line",stroke:h,d:"M ".concat(l," ").concat(r," L ").concat(l," ").concat(o)}),f=t(n*Math.PI),O=Math.abs(f)>.1?Object(a.jsx)("text",{className:"vertical-line-label",fill:h,textAnchor:n<1.7?"start":"end",x:l+(n<1.7?8:-8),y:(r+o)/2,children:f.toFixed(2)}):null,y=Object(a.jsx)("circle",{className:"knob",cx:l,cy:o,r:4,onMouseMove:this.onMove,onMouseDown:this.startDrag,onMouseUp:this.stopDrag,onTouchStart:this.startDrag,onTouchEnd:this.stopDrag,onTouchMove:this.onTouch});return Object(a.jsx)("div",{className:"AnnotatedCurveControl",children:Object(a.jsxs)("svg",{ref:this.svgRef,viewBox:c,onMouseMove:this.onMove,onMouseDown:this.startDrag,onMouseUp:this.stopDrag,onTouchStart:this.startDrag,onTouchEnd:this.stopDrag,onTouchMove:this.onTouch,children:[p,m,v,j,x,O,y,null]})})}}]),n}(i.Component),Ue=function(e){var t=e<0?e+2:e;return Math.round(100*t)/100},Ge=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={piRatio:.25,revealLevel:0},e.onChangePiRatio=function(t){e.setState({piRatio:Ue(t)})},e.setReveal=function(t){e.setState({revealLevel:t})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state.revealLevel;return Object(a.jsxs)(A,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Sine, Cosine, and the Unit Circle"}),Object(a.jsxs)(C,{children:["This visualization shows the anatomy of a",Object(a.jsx)(P,{onClick:function(){return e.setReveal(0)},children:"unit circle"}),"and how a",Object(a.jsx)(P,{onClick:function(){return e.setReveal(1)},children:"traditional trig triangle"}),"fits inside the unit circle.",Object(a.jsx)("p",{}),"Then it shows how a unit circle is related to a",Object(a.jsx)(P,{onClick:function(){e.setReveal(2),e.onChangePiRatio(.25)},children:"sine curve."}),"Finally it brings",Object(a.jsx)(P,{onClick:function(){e.setReveal(3),e.onChangePiRatio(.25)},children:"cosine curves"}),"into the picture.",Object(a.jsx)("p",{}),"But let's start at the beginning."]}),Object(a.jsxs)(w,{children:[Object(a.jsx)(D,{children:Object(a.jsx)(Xe,{onChange:this.onChangePiRatio,piRatio:this.state.piRatio,revealLevel:t})}),Object(a.jsxs)(C,{children:[Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Unit Circle"}),"A unit circle is a circle that is centered at x=0, y=0.",Object(a.jsx)("p",{}),"The white line from (0,0) to the circle always has length of 1. The green arc length shows the distance around the perimeter of the circle from (1,0).",Object(a.jsx)("p",{}),"Perhaps you recall the formula for the perimeter of a circle?",Object(a.jsx)("br",{}),"As you drag the grey knob around, what do you expect the arc length to be at the top?",Object(a.jsx)("br",{}),"At the far left? At the bottom? Not that you will ever quite see it, but how about the far right?",Object(a.jsx)("p",{}),"Now that our circle makes sense, let's add",Object(a.jsx)(P,{onClick:function(){e.setReveal(1),e.onChangePiRatio(.25)},children:"a triangle!"})]}),t>=1&&Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"The Triangle"}),"We just put a traditional right triangle from trigonometry inside of our circle with the hypotenuse along the radius with a length of 1. The horizontal or adjacent side is shown in blue and the vertical or opposite side is shown in orange.",Object(a.jsx)("p",{}),"The length of the arc gives us a way to describe the inside angle of the triangle in radians.",Object(a.jsx)("p",{}),"Focus on the length of the orange vertical line as you change the angle. It leads directly to our next topic,",Object(a.jsx)(P,{onClick:function(){e.setReveal(2),e.onChangePiRatio(.25)},children:"sine curves"})]})]})]}),t>=2&&Object(a.jsxs)(w,{children:[Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Sine Curve"}),"In our normal trig triangle, the sine of the angle is the length of the opposite side divided by the hypotenuse. Or to put it the other way, the height of the opposite side of a triangle is the hypotenuse multiplied by the sine of the angle.",Object(a.jsx)("p",{}),"But our triangle is trapped in a unit circle! So, the hypotenuse is always 1 and the opposite side of the triangle and the sine of the angle are exactly the same.",Object(a.jsx)("p",{}),"As you manipulate the angle you can see how the vertical side of the triangle in the unit circle matches up to the value of the sine curve (both in orange).",Object(a.jsx)("p",{}),"The blue horizontal line in the triangle leads us to our last topic,",Object(a.jsx)(P,{onClick:function(){e.setReveal(3),e.onChangePiRatio(.25)},children:"cosine curves"})]}),Object(a.jsx)(He,{onChange:this.onChangePiRatio,piRatio:this.state.piRatio,yFunction:Math.sin})]}),t>=3&&Object(a.jsxs)(w,{children:[Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Cosine Curve"}),"The value of the blue cosine curve is the same as the length of the blue adjacent side of the triangle."]}),Object(a.jsx)(He,{onChange:this.onChangePiRatio,piRatio:this.state.piRatio,yFunction:Math.cos})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Next Steps"}),"Now that we have built some understanding of what a sine curve means in the context of a triangle we can explore other uses. For example, many things change periodically ",Object(a.jsx)(j.b,{to:"/sine-over-time",children:"over time"}),"."]})]})}}]),n}(i.Component),Ze=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={amplitude:2,frequency:1,phase:0},e.onChangeCurveParameter=function(t,n,a){var i=e.state;i[n]=a,e.setState(i)},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.amplitude,i=t.frequency,c=new L({amplitude:n,frequency:i}).sample(0,5,600);return Object(a.jsxs)(A,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Sine over Time"}),Object(a.jsxs)(C,{children:["As the ",Object(a.jsx)(j.b,{to:"/unit-circle",children:"previous topic"})," showed, a sine curve tracks the height of the opposite side of a right triangle as the inner angle goes from zero to 2\u03c0 in radians.",Object(a.jsx)("p",{}),"Sine and cosine curves can also be used to model a lot of other physical phenomena. A single curve can be used to model:",Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"alternating current in a wire"}),Object(a.jsx)("li",{children:"the sound from a perfect tuning fork"}),Object(a.jsx)("li",{children:"a constant frequency radio signal"})]}),"In these applications the horizontal axis is no longer an angle but rather time. Instead of a length, the vertical axis represents some sort of intensity or strength.",Object(a.jsx)("p",{}),"When discussing these curves, the most important characteristic is usually the frequency, as in how frequently does the curve repeat in a single second. A",Object(a.jsx)(P,{onClick:function(){e.setState({amplitude:2}),e.setState({frequency:1})},children:"1 Hertz"}),"(1 Hz) sine curve repeats once every second.",Object(a.jsx)("p",{}),"To get a curve that repeats f times a second, the argument to sine must be 2\u03c0 multiplied by f."]}),Object(a.jsxs)(D,{children:[Object(a.jsxs)(w,{children:[Object(a.jsx)(Y,{width:"150px",children:"\xa0"}),Object(a.jsxs)(N,{width:"500px",children:[n," sin(",i," x 2\u03c0 x time) "]})]}),Object(a.jsxs)(w,{children:[Object(a.jsx)(K,{onChange:this.onChangeCurveParameter,curveNumber:0,curveParameters:{amplitude:n,frequency:i}}),Object(a.jsx)(J,{width:500,height:150,minY:-5,maxY:5,values:c})]})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Real life amplitudes and frequencies"}),Object(a.jsxs)("ul",{children:[Object(a.jsx)("li",{children:"Household current in the US is usually 120 Volts in amplitude with a frequency of 60 Hz"}),Object(a.jsx)("li",{children:"A middle C tuning fork produces a roughly 50 decibel wave at 261.63 Hz"}),Object(a.jsx)("li",{children:"A FM radio station produces waves with amplitudes that are generally below 50 thousand watts (50 kilowatts or 50kW) and frequencies that start at 88 million Hertz (88 megahertz or 88MHz)."})]})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Next Steps"}),"A single sine or cosine curve is pretty boring. As we will see in the next topic, adding ",Object(a.jsx)(j.b,{to:"/add-sines",children:"two curves"})," together can be surprisingly interesting."]})]})}}]),n}(i.Component),Je=(n(78),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).audioCtx=new(window.AudioContext||window.webkitAudioContext),e.oscillators=[],e.amplitudeNodes=[],e.mergeGainNode=e.audioCtx.createGain(),e.state={first:!0,playing:!1},e.togglePlayer=function(){var t=!e.state.playing;if(t&&e.state.first){var n,a=Object(ne.a)(e.oscillators);try{for(a.s();!(n=a.n()).done;){n.value.start()}}catch(i){a.e(i)}finally{a.f()}e.setState({first:!1})}e.setState({playing:t})},e}return Object(h.a)(n,[{key:"componentDidMount",value:function(){for(var e=0;e<this.props.amplitudes.length;e++){var t=this.audioCtx.createOscillator();t.frequency.setValueAtTime(this.props.frequencies[e],this.audioCtx.currentTime);var n=this.audioCtx.createGain();n.gain.value=0,t.connect(n),n.connect(this.mergeGainNode),this.oscillators.push(t),this.amplitudeNodes.push(n)}this.mergeGainNode.gain.value=.4,this.mergeGainNode.connect(this.audioCtx.destination)}},{key:"render",value:function(){var e=this,t=this.state.playing?"Stop":"Play";if(this.state.playing){var n=.1/this.props.amplitudes.reduce((function(e,t){return e+(t>0?1:0)}),1);this.amplitudeNodes.forEach((function(t,a){t.gain.value=n*e.props.amplitudes[a]/e.props.maxAmplitude}))}else{var i,c=Object(ne.a)(this.amplitudeNodes);try{for(c.s();!(i=c.n()).done;){i.value.gain.value=0}}catch(s){c.e(s)}finally{c.f()}}return Object(a.jsx)("div",{className:"FrequencyDomainPlayer",children:Object(a.jsx)("button",{onClick:this.togglePlayer,children:t})})}}]),n}(i.Component)),Ve=[250,300,350,400,450,500,550,600,650,700,750,800,850,900,950,1e3,1050,1100,1150,2200],Qe=[0,.8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],$e={clearFrequencies:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],justOneFrequencies:Qe,harmonicFrequencies:[0,1,0,0,0,0,0,.5,0,0,0,0,0,.2,0,0,0,0,0,0],buzzFrequencies:[.9,1,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],buzzierFrequencies:[.3,.8,.3,0,0,0,0,0,0,0,0,0,0,.2,.6,.9,1,.6,.2,0]},_e=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,i=new Array(a),c=0;c<a;c++)i[c]=arguments[c];return(e=t.call.apply(t,[this].concat(i))).state={amplitudes:Object(E.cloneDeep)(Qe),zoomLevel:0},e.onZoom=function(t){var n=ie(e.state.zoomLevel+t,0,6);e.setState({zoomLevel:n})},e.onExample=function(t){var n=t+"Frequencies";$e[n]?e.setState({amplitudes:Object(E.cloneDeep)($e[n])}):e.setState({amplitudes:Object(E.cloneDeep)(Qe)})},e.onChange=function(t,n){var a=Object(B.a)(e.state.amplitudes);a[t]=n,e.setState({amplitudes:a})},e}return Object(h.a)(n,[{key:"render",value:function(){var e=this,t=.02*Math.pow(2,this.state.zoomLevel),n=this.state.amplitudes.map((function(e,t){return new L({amplitude:e,frequency:Ve[t]})})).map((function(e){return e.sample(0,t,15e3)})),i=V.apply(void 0,Object(B.a)(n));return Object(a.jsxs)(A,{children:[Object(a.jsx)(I,{}),Object(a.jsx)("h2",{children:"Sounds from Sines"}),Object(a.jsxs)(C,{children:["Each slider allows you to change the amplitude of a sine at that frequency. To hear the sine waves press the Play button below the plot.",Object(a.jsxs)("ul",{children:[Object(a.jsxs)("li",{children:["The simplest example",Object(a.jsx)(q,{index:"justOne",onClick:this.onExample,children:"is a single non-zero amplitude"})]}),Object(a.jsxs)("li",{children:["You may want to",Object(a.jsx)(q,{index:"clear",onClick:this.onExample,children:"clear all frequencies"})]}),Object(a.jsxs)("li",{children:["A",Object(a.jsx)(q,{index:"harmonic",onClick:this.onExample,children:"harmonic series"}),"is made up of sine curves whose frequencies are integer multiples of a fundamental frequency. Such as 300 Hz, 600 Hz and 900 Hz in which the first frequency, 300 Hz, is the fundamental frequency."]}),Object(a.jsxs)("li",{children:["A",Object(a.jsx)(q,{index:"buzz",onClick:this.onExample,children:"buzzing sound"}),"can be produced with sine curves whose frequencies are close together. In this case the silent part of the buzz is the roughly 7 milliseconds in which the waves mostly cancel out. If you make the quiet part longer and increase the amplitude of the loud part then the sound becomes even more",Object(a.jsx)(q,{index:"buzzier",onClick:this.onExample,children:"ticky"})]})]})]}),Object(a.jsxs)(D,{children:[Object(a.jsx)(J,{values:i,width:800,height:400,minY:-10,maxY:10}),Object(a.jsxs)(w,{children:[Object(a.jsx)(Je,{amplitudes:this.state.amplitudes,frequencies:Ve,maxAmplitude:1}),Object(a.jsx)("button",{onClick:function(){return e.onExample("clear")},children:"Clear"}),Object(a.jsx)(z,{current:this.state.zoomLevel,min:0,max:6,onZoom:this.onZoom})]}),Object(a.jsx)(Ae,{amplitudes:this.state.amplitudes,frequencies:Ve,maxAmplitude:1,onChange:this.onChange})]}),Object(a.jsxs)(C,{children:[Object(a.jsx)("h3",{children:"Things to Try"}),Object(a.jsxs)("li",{children:["Can you make a higher pitched",Object(a.jsx)(q,{index:"harmonic",onClick:this.onExample,children:"harmonic"}),"?"]}),Object(a.jsx)("li",{children:"You can make a harmonic that is smooth and looks like a saw tooth by decreasing the amplitudes as the frequencies increase. Or you can make the curve smoother and less toothy by keeping the amplitudes the same. How does that change the sound? Which do you find more appealing?"}),Object(a.jsx)("li",{children:"Try making interesting shapes with the sound off. Can you guess what they will sound like?"}),Object(a.jsx)("h3",{children:"Why Bother?"}),"There is a lot more to learn, but these basic principles are key to understanding acoustics and even music theory.",Object(a.jsx)("div",{}),Object(a.jsx)("h3",{children:"Next Steps"}),"Creating interesting signals is just one part of the DSP toolbox. Sometimes you have a signal but need to modify with ",Object(a.jsx)(j.b,{to:"/convolution=steps",children:"convolution"})]})]})}}]),n}(i.Component),et={home:{label:"DSP Playground",path:"/"},links:[{label:"Topics",path:"/topics"},{label:"About",path:"/about"}]},tt=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.a,{basename:"/",children:[Object(a.jsx)(te,Object(r.a)(Object(r.a)({},et),{},{centerText:""})),Object(a.jsxs)(p.c,{children:[Object(a.jsx)(p.a,{path:"/unit-circle",children:Object(a.jsx)(Ge,{})}),Object(a.jsx)(p.a,{path:"/sine-over-time",children:Object(a.jsx)(Ze,{})}),Object(a.jsx)(p.a,{path:"/add-sines",children:Object(a.jsx)(_,{})}),Object(a.jsx)(p.a,{path:"/sum-many-sines",children:Object(a.jsx)(qe,{})}),Object(a.jsx)(p.a,{path:"/sounds-from-sines",children:Object(a.jsx)(_e,{})}),Object(a.jsx)(p.a,{path:"/convolution=steps",children:Object(a.jsx)(ve,{})}),Object(a.jsx)(p.a,{path:"/about",children:Object(a.jsx)(X,{})}),Object(a.jsx)(p.a,{path:"/topics",children:Object(a.jsx)(fe,{})}),Object(a.jsx)(p.a,{path:"/",children:Object(a.jsx)(fe,{})})]}),Object(a.jsx)(te,Object(r.a)(Object(r.a)({},et),{},{centerText:"\xa9 2021 - WoundedPixels.com"}))]})})}}]),n}(i.Component),nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,108)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),c(e),s(e)}))};l.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(tt,{})}),document.getElementById("root")),nt()}},[[79,1,2]]]);
//# sourceMappingURL=main.a3208a7f.chunk.js.map